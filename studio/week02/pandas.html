<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Serge Rey">

<title>Introduction to Pandas – Geography 385: Spatial Data Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles/custom.scss">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Geography 385: Spatial Data Analysis</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-lectures" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Lectures</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-lectures">    
        <li>
    <a class="dropdown-item" href="../../lectures/week01/index.html">
 <span class="dropdown-text">08-26 Course Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../lectures/week01/lecture_sda.html">
 <span class="dropdown-text">09-09 Spatial Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../lectures/week04/lecture_area.html">
 <span class="dropdown-text">09-16 Area Unit Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../lectures/week05/choro.html">
 <span class="dropdown-text">09-23 Choropleth Maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../lectures/week06/spatial_weights.html">
 <span class="dropdown-text">09-30 Spatial Weights</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../lectures/week07/global.html">
 <span class="dropdown-text">10-07 Global Spatial Autocorrelation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../lectures/week08/local.html">
 <span class="dropdown-text">10-14 Local Spatial Autocorrelation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-studio" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Studio</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-studio">    
        <li>
    <a class="dropdown-item" href="../../studio/week01/index.html">
 <span class="dropdown-text">08-28 Studio 1: Juptyer Hub Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../studio/week02/index.html">
 <span class="dropdown-text">09-04 Studio 2: Pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../studio/week03/index.html">
 <span class="dropdown-text">09-11 Studio 3: GeoPandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../studio/week04/index.html">
 <span class="dropdown-text">09-18 Studio 4: GeoProcessing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../studio/week05/index.html">
 <span class="dropdown-text">09-25 Studio 5: Choropleth Mapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../studio/week06/peer1.html">
 <span class="dropdown-text">10-02 Studio 6: Peer Evaluation 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../studio/week07/global.html">
 <span class="dropdown-text">10-09 Studio 7: Global Spatial Autocorrelation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../studio/week08/local.html">
 <span class="dropdown-text">10-16 Studio 8: Local Spatial Autocorrelation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../references.html"> 
<span class="menu-text">References</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Introduction to Pandas</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week01/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">08-26 Course Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../studio/week01/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">08-28 Studio 1: Jupyter Hub</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../studio/week02/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09-04 Studio 2: Pandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week03/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09-09 Spatial Data Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../studio/week03/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09-11 Studio 3: GeoPandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week04/lecture_area.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09-16 Area Unit Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../studio/week04/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09-18 Studio 4: Geosnap and Geoprocessing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week05/choro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09-23 Choropleth Mapping</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../studio/week05/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09-25 Studio 5: Choropleth Mapping</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week06/spatial_weights.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09-30 Spatial Weights</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../studio/week06/peer1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10-02 Studio 6: Peer Evaluation 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week07/global.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10-07 Global Spatial Autocorrelation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../studio/week07/global.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10-09 Studio 7: Global Spatial Autocorrelation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week08/local.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10-14 Local Spatial Autocorrelation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../studio/week08/local.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10-16 Studio 8: Local Spatial Autocorrelation</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import">Import</a></li>
  <li><a href="#dataframe-creation" id="toc-dataframe-creation" class="nav-link" data-scroll-target="#dataframe-creation">DataFrame Creation</a></li>
  <li><a href="#series" id="toc-series" class="nav-link" data-scroll-target="#series">Series</a></li>
  <li><a href="#data-types" id="toc-data-types" class="nav-link" data-scroll-target="#data-types">Data Types</a></li>
  <li><a href="#creating-new-series" id="toc-creating-new-series" class="nav-link" data-scroll-target="#creating-new-series">Creating new series</a></li>
  <li><a href="#plotting" id="toc-plotting" class="nav-link" data-scroll-target="#plotting">Plotting</a></li>
  <li><a href="#dataframe-operations" id="toc-dataframe-operations" class="nav-link" data-scroll-target="#dataframe-operations">DataFrame Operations</a>
  <ul class="collapse">
  <li><a href="#sorting" id="toc-sorting" class="nav-link" data-scroll-target="#sorting">Sorting</a></li>
  <li><a href="#grouping" id="toc-grouping" class="nav-link" data-scroll-target="#grouping">Grouping</a></li>
  <li><a href="#filtering" id="toc-filtering" class="nav-link" data-scroll-target="#filtering">Filtering</a></li>
  </ul></li>
  <li><a href="#merge" id="toc-merge" class="nav-link" data-scroll-target="#merge">Merge</a></li>
  <li><a href="#saving-files" id="toc-saving-files" class="nav-link" data-scroll-target="#saving-files">Saving Files</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Introduction to Pandas</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Serge Rey </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In this notebook we introduce <a href="https://pandas.pydata.org/">pandas</a> <span class="citation" data-cites="mckinney-proc-scipy-2010">(<a href="#ref-mckinney-proc-scipy-2010" role="doc-biblioref">McKinney 2010</a>)</span> which is the main package for working with data in Python.</p>
</section>
<section id="import" class="level2">
<h2 class="anchored" data-anchor-id="import">Import</h2>
<p>We start by importing the package, and aliasing it as <code>pd</code></p>
<div id="6c2aeb42" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aliasing allows us to use <code>pd</code> in place of having to type out <code>pandas</code> in what follows.</p>
</section>
<section id="dataframe-creation" class="level2">
<h2 class="anchored" data-anchor-id="dataframe-creation">DataFrame Creation</h2>
<p>Pandas main data structure is called a <code>DataFrame</code>. We will create our first DataFrame by reading a <code>csv</code> file.</p>
<div id="ba6bcedc" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="annotated-cell-2"><pre class="sourceCode python code-annotation-code code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-2-1" class="code-annotation-target"><a href="#annotated-cell-2-1" aria-hidden="true" tabindex="-1"></a>home <span class="op">=</span> <span class="st">"/home/serge"</span></span>
<span id="annotated-cell-2-2"><a href="#annotated-cell-2-2" aria-hidden="true" tabindex="-1"></a>cities_df <span class="op">=</span> pd.read_csv(<span class="ss">f"</span><span class="sc">{</span>home<span class="sc">}</span><span class="ss">/data/385/studio02/cities.csv"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="1" data-code-annotation="1">Change the value <code>home</code> to be equal to <code>jupyter-student</code> where <code>student</code> is your id.</span>
</dd>
</dl>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Be sure to reread the instructions to change the path in the previous cell if you wish to follow along in your own notebook.</p>
</div>
</div>
<p>Asking for the values of the <code>cities_df</code> give us:</p>
<div id="20e4d9af" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>cities_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Colorado</td>
<td>Denver</td>
<td>39.739227</td>
<td>-104.984856</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
<td>-72.682198</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Delaware</td>
<td>Dover</td>
<td>39.157307</td>
<td>-75.519722</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Hawaii</td>
<td>Honolulu</td>
<td>21.307442</td>
<td>-157.857376</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Florida</td>
<td>Tallahassee</td>
<td>30.438118</td>
<td>-84.281296</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Georgia</td>
<td>Atlanta&lt;br&gt;</td>
<td>33.749027</td>
<td>-84.388229</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Idaho</td>
<td>Boise</td>
<td>43.617775</td>
<td>-116.199722</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
<td>-89.654961</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Indiana</td>
<td>Indianapolis</td>
<td>39.768623</td>
<td>-86.162643</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Iowa</td>
<td>Des Moines</td>
<td>41.591087</td>
<td>-93.603729</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Kansas</td>
<td>Topeka</td>
<td>39.048191</td>
<td>-95.677956</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Kentucky</td>
<td>Frankfort</td>
<td>38.186722</td>
<td>-84.875374</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Louisiana</td>
<td>Baton Rouge</td>
<td>30.457069</td>
<td>-91.187393</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
<td>-69.781693</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Maryland</td>
<td>Annapolis</td>
<td>38.978764</td>
<td>-76.490936</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Massachusetts</td>
<td>Boston</td>
<td>42.358162</td>
<td>-71.063698</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Michigan</td>
<td>Lansing</td>
<td>42.733635</td>
<td>-84.555328</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Minnesota</td>
<td>St. Paul</td>
<td>44.955097</td>
<td>-93.102211</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>Mississippi</td>
<td>Jackson</td>
<td>32.303848</td>
<td>-90.182106</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>Missouri</td>
<td>Jefferson City</td>
<td>38.579201</td>
<td>-92.172935</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>Montana</td>
<td>Helena</td>
<td>46.585709</td>
<td>-112.018417</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>Nebraska</td>
<td>Lincoln</td>
<td>40.808075</td>
<td>-96.699654</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Nevada</td>
<td>Carson City</td>
<td>39.163914</td>
<td>-119.766121</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>New Hampshire</td>
<td>Concord</td>
<td>43.206898</td>
<td>-71.537994</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>New Jersey</td>
<td>Trenton</td>
<td>40.220596</td>
<td>-74.769913</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>New Mexico</td>
<td>Santa Fe</td>
<td>35.682240</td>
<td>-105.939728</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>North Carolina</td>
<td>Raleigh</td>
<td>35.780430</td>
<td>-78.639099</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>North Dakota</td>
<td>Bismarck</td>
<td>46.820850</td>
<td>-100.783318</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>New York</td>
<td>Albany</td>
<td>42.652843</td>
<td>-73.757874</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>Ohio</td>
<td>Columbus</td>
<td>39.961346</td>
<td>-82.999069</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>Oklahoma</td>
<td>Oklahoma City</td>
<td>35.492207</td>
<td>-97.503342</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>Oregon</td>
<td>Salem</td>
<td>44.938461</td>
<td>-123.030403</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>Pennsylvania</td>
<td>Harrisburg</td>
<td>40.264378</td>
<td>-76.883598</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>Rhode Island</td>
<td>Providence</td>
<td>41.830914</td>
<td>-71.414963</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>South Carolina</td>
<td>Columbia</td>
<td>34.000343</td>
<td>-81.033211</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>South Dakota</td>
<td>Pierre</td>
<td>44.367031</td>
<td>-100.346405</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>Tennessee</td>
<td>Nashville</td>
<td>36.165810</td>
<td>-86.784241</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Texas</td>
<td>Austin</td>
<td>30.274670</td>
<td>-97.740349</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>Utah</td>
<td>Salt Lake City</td>
<td>40.777477</td>
<td>-111.888237</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Vermont</td>
<td>Montpelier</td>
<td>44.262436</td>
<td>-72.580536</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>Virginia</td>
<td>Richmond</td>
<td>37.538857</td>
<td>-77.433640</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>Washington</td>
<td>Olympia</td>
<td>47.035805</td>
<td>-122.905014</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>West Virginia</td>
<td>Charleston</td>
<td>38.336246</td>
<td>-81.612328</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>Wisconsin</td>
<td>Madison</td>
<td>43.074684</td>
<td>-89.384445</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>Wyoming</td>
<td>Cheyenne</td>
<td>41.140259</td>
<td>-104.820236</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This data set is composed of the capital cities for the 50 states.</p>
<p>We can see what type of object <code>cities_df</code> is using <code>type</code>:</p>
<div id="3eb7b4e1" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(cities_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>pandas.core.frame.DataFrame</code></pre>
</div>
</div>
<p>As an analogy, you can think of a DataFrame as a spreadsheet with rows and columns. This mental model will help to orient you. We will see that the DataFrame extends spreadsheets in powerful ways for data analysis.</p>
<p>A DataFrame, like most Python objects, has a number of <code>attributes</code> and <code>methods</code>.</p>
<p>Its <code>shape</code> attribute tells us how many observations and variables we have.</p>
<div id="a0a58876" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>cities_df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>(50, 4)</code></pre>
</div>
</div>
<p>In this case our data set has 50 observations on 4 variables.</p>
</section>
<section id="series" class="level2">
<h2 class="anchored" data-anchor-id="series">Series</h2>
<p>Each variable is stored as a <code>Series</code>:</p>
<div id="75cc0418" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(cities_df.longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>pandas.core.series.Series</code></pre>
</div>
</div>
<div id="64a1e2d8" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>cities_df.longitude</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>0     -86.300568
1    -134.420212
2    -112.096962
3     -92.288986
4    -121.493629
5    -104.984856
6     -72.682198
7     -75.519722
8    -157.857376
9     -84.281296
10    -84.388229
11   -116.199722
12    -89.654961
13    -86.162643
14    -93.603729
15    -95.677956
16    -84.875374
17    -91.187393
18    -69.781693
19    -76.490936
20    -71.063698
21    -84.555328
22    -93.102211
23    -90.182106
24    -92.172935
25   -112.018417
26    -96.699654
27   -119.766121
28    -71.537994
29    -74.769913
30   -105.939728
31    -78.639099
32   -100.783318
33    -73.757874
34    -82.999069
35    -97.503342
36   -123.030403
37    -76.883598
38    -71.414963
39    -81.033211
40   -100.346405
41    -86.784241
42    -97.740349
43   -111.888237
44    -72.580536
45    -77.433640
46   -122.905014
47    -81.612328
48    -89.384445
49   -104.820236
Name: longitude, dtype: float64</code></pre>
</div>
</div>
<p>When we ask for the contents of the series, we see two columns of numbers. The first is a set of integers which is the index. Each value in the index locates the particular observation in the series.</p>
<p>The next column of values stores the values of the series. Here the values are <a href="https://xkcd.com/2170/">decimal degrees</a> of longitude for the capital cities.</p>
</section>
<section id="data-types" class="level2">
<h2 class="anchored" data-anchor-id="data-types">Data Types</h2>
<p>The <code>info</code> method of the DataFrame will summarize information about our DataFrame</p>
<div id="8a7d04d3" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>cities_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 50 entries, 0 to 49
Data columns (total 4 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   name         50 non-null     object 
 1   description  50 non-null     object 
 2   latitude     50 non-null     float64
 3   longitude    50 non-null     float64
dtypes: float64(2), object(2)
memory usage: 1.7+ KB</code></pre>
</div>
</div>
<p>We have four columns, the first two of which are of type <code>object</code> and the last two are of type <code>float64</code>.</p>
<p>The names of our variables in the DataFrame are stored in the <code>columns</code> attribute:</p>
<div id="7b3b0915" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>cities_df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>Index(['name', 'description', 'latitude', 'longitude'], dtype='object')</code></pre>
</div>
</div>
<p>We can use the column name to access the particular series:</p>
<div id="841a7744" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>cities_df.longitude</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>0     -86.300568
1    -134.420212
2    -112.096962
3     -92.288986
4    -121.493629
5    -104.984856
6     -72.682198
7     -75.519722
8    -157.857376
9     -84.281296
10    -84.388229
11   -116.199722
12    -89.654961
13    -86.162643
14    -93.603729
15    -95.677956
16    -84.875374
17    -91.187393
18    -69.781693
19    -76.490936
20    -71.063698
21    -84.555328
22    -93.102211
23    -90.182106
24    -92.172935
25   -112.018417
26    -96.699654
27   -119.766121
28    -71.537994
29    -74.769913
30   -105.939728
31    -78.639099
32   -100.783318
33    -73.757874
34    -82.999069
35    -97.503342
36   -123.030403
37    -76.883598
38    -71.414963
39    -81.033211
40   -100.346405
41    -86.784241
42    -97.740349
43   -111.888237
44    -72.580536
45    -77.433640
46   -122.905014
47    -81.612328
48    -89.384445
49   -104.820236
Name: longitude, dtype: float64</code></pre>
</div>
</div>
<div id="c7b57379" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>cities_df.name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>0            Alabama
1             Alaska
2            Arizona
3           Arkansas
4         California
5           Colorado
6        Connecticut
7           Delaware
8             Hawaii
9            Florida
10           Georgia
11             Idaho
12          Illinois
13           Indiana
14              Iowa
15            Kansas
16          Kentucky
17         Louisiana
18             Maine
19          Maryland
20     Massachusetts
21          Michigan
22         Minnesota
23       Mississippi
24          Missouri
25           Montana
26          Nebraska
27            Nevada
28     New Hampshire
29        New Jersey
30        New Mexico
31    North Carolina
32      North Dakota
33          New York
34              Ohio
35          Oklahoma
36            Oregon
37      Pennsylvania
38      Rhode Island
39    South Carolina
40      South Dakota
41         Tennessee
42             Texas
43              Utah
44           Vermont
45          Virginia
46        Washington
47     West Virginia
48         Wisconsin
49           Wyoming
Name: name, dtype: object</code></pre>
</div>
</div>
<p>As each series is an object, it too comes with attributes and methods:</p>
<div id="2d1fc339" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>cities_df.longitude.<span class="bu">max</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>-69.781693</code></pre>
</div>
</div>
<div id="de8e4a6e" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>cities_df.name.<span class="bu">max</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>'Wyoming'</code></pre>
</div>
</div>
<div id="c053552e" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>cities_df.longitude.mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>-93.46593707999999</code></pre>
</div>
</div>
<div id="4e873d52" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>cities_df.name.<span class="bu">min</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>'Alabama'</code></pre>
</div>
</div>
<div id="54913998" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>cities_df.longitude.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>count     50.000000
mean     -93.465937
std       18.669710
min     -157.857376
25%     -103.811006
50%      -89.918533
75%      -79.237627
max      -69.781693
Name: longitude, dtype: float64</code></pre>
</div>
</div>
<div id="b1ef07e3" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>cities_df.name.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>count          50
unique         50
top       Alabama
freq            1
Name: name, dtype: object</code></pre>
</div>
</div>
<p>Note how the same method behaves for series of different types.</p>
</section>
<section id="creating-new-series" class="level2">
<h2 class="anchored" data-anchor-id="creating-new-series">Creating new series</h2>
<p>A common workflow in data analysis is to create, or derive, new variables based upon existing variables. For example, let’s define a variable that will denote whether a capital city is in the east or west of the country. Here we will use the median longitude as the comparison point:</p>
<div id="a4b76405" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>cities_df.longitude.median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>-89.9185335</code></pre>
</div>
</div>
<div id="427da89f" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>cities_df.longitude <span class="op">&lt;</span> cities_df.longitude.median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>0     False
1      True
2      True
3      True
4      True
5      True
6     False
7     False
8      True
9     False
10    False
11     True
12    False
13    False
14     True
15     True
16    False
17     True
18    False
19    False
20    False
21    False
22     True
23     True
24     True
25     True
26     True
27     True
28    False
29    False
30     True
31    False
32     True
33    False
34    False
35     True
36     True
37    False
38    False
39    False
40     True
41    False
42     True
43     True
44    False
45    False
46     True
47    False
48    False
49     True
Name: longitude, dtype: bool</code></pre>
</div>
</div>
<p>This creates a series that has data type <code>bool</code>, meaning True if the city is at a longitude less than that of the median longitude. False if it is east of that value. We can use this information to create a new series on the DataFrame called <code>east</code>:</p>
<div id="50febeb3" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>cities_df[<span class="st">'east'</span>] <span class="op">=</span> cities_df.longitude <span class="op">&gt;</span> cities_df.longitude.median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And, we can do this for a second variable <code>south</code>:</p>
<div id="e13babc2" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>cities_df[<span class="st">'south'</span>] <span class="op">=</span> cities_df.latitude <span class="op">&lt;</span> cities_df.latitude.median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Based on those two Boolean variables we can create an additional variable called <code>region</code> that tells us which of four regions the capital city is located in.</p>
<div id="55e7316a" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>cities_df[<span class="st">'region'</span>] <span class="op">=</span> <span class="dv">4</span> <span class="op">*</span> cities_df.east <span class="op">*</span> cities_df.south <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> cities_df.east) <span class="op">*</span> cities_df.south <span class="op">\</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>                      <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> (<span class="dv">1</span><span class="op">-</span>cities_df.east) <span class="op">*</span> (<span class="dv">1</span><span class="op">-</span>cities_df.south) <span class="op">+</span> cities_df.east <span class="op">*</span> (<span class="dv">1</span><span class="op">-</span>cities_df.south)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>region</code> takes on four values, 1 if the city is in the North East, 2 North West, 3 South West, and 4 South East.</p>
<div id="9a8830e6" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>cities_df.head(<span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Colorado</td>
<td>Denver</td>
<td>39.739227</td>
<td>-104.984856</td>
<td>False</td>
<td>True</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
<td>-72.682198</td>
<td>True</td>
<td>False</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Delaware</td>
<td>Dover</td>
<td>39.157307</td>
<td>-75.519722</td>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Hawaii</td>
<td>Honolulu</td>
<td>21.307442</td>
<td>-157.857376</td>
<td>False</td>
<td>True</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Florida</td>
<td>Tallahassee</td>
<td>30.438118</td>
<td>-84.281296</td>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Georgia</td>
<td>Atlanta&lt;br&gt;</td>
<td>33.749027</td>
<td>-84.388229</td>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Idaho</td>
<td>Boise</td>
<td>43.617775</td>
<td>-116.199722</td>
<td>False</td>
<td>False</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
<td>-89.654961</td>
<td>True</td>
<td>False</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Indiana</td>
<td>Indianapolis</td>
<td>39.768623</td>
<td>-86.162643</td>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Iowa</td>
<td>Des Moines</td>
<td>41.591087</td>
<td>-93.603729</td>
<td>False</td>
<td>False</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Kansas</td>
<td>Topeka</td>
<td>39.048191</td>
<td>-95.677956</td>
<td>False</td>
<td>True</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Kentucky</td>
<td>Frankfort</td>
<td>38.186722</td>
<td>-84.875374</td>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Louisiana</td>
<td>Baton Rouge</td>
<td>30.457069</td>
<td>-91.187393</td>
<td>False</td>
<td>True</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
<td>-69.781693</td>
<td>True</td>
<td>False</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Maryland</td>
<td>Annapolis</td>
<td>38.978764</td>
<td>-76.490936</td>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="plotting" class="level2">
<h2 class="anchored" data-anchor-id="plotting">Plotting</h2>
<p>Pandas comes with built-in plotting facilities. We can try out the default <code>plot</code> method:</p>
<div id="eaea999d" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>cities_df.plot(<span class="st">'longitude'</span>, <span class="st">'latitude'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pandas_files/figure-html/cell-25-output-1.png" width="566" height="433" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This isn’t quite what we want as the default is to plot the first series and the second series together with line segments connecting each pair of sequential observations.</p>
<p>But we can try a different method to get what we want:</p>
<div id="878c4b44" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>cities_df.plot.scatter(<span class="st">'longitude'</span>, <span class="st">'latitude'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pandas_files/figure-html/cell-26-output-1.png" width="585" height="433" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>That’s better as now we see the cities represented as points.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>We are treating <code>longitude</code> and <code>latitude</code> as Cartesian coordinates in the plots. This is technically not correct as they are spherical coordinates. We will correct this later on in the course when we get to spatial data analysis proper.</p>
</div>
</div>
<p>There are a number of powerful visualization packages in Python that allow us to go beyond what is available in Pandas. To see one of them here, we import <code>seaborn</code></p>
<div id="f694374a" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sbn</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>and redo our plot:</p>
<div id="39f016c9" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>sbn.scatterplot(cities_df, x<span class="op">=</span><span class="st">'longitude'</span>, y<span class="op">=</span><span class="st">'latitude'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pandas_files/figure-html/cell-28-output-1.png" width="585" height="433" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>So far, not much difference from what we did with <code>pandas</code>. But we can specify a <code>hue</code> variable to distinguish what region the cities are in:</p>
<div id="814007a4" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sbn.scatterplot(cities_df, x<span class="op">=</span><span class="st">'longitude'</span>, y<span class="op">=</span><span class="st">'latitude'</span>, hue<span class="op">=</span><span class="st">'region'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pandas_files/figure-html/cell-29-output-1.png" width="585" height="433" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Great. But the numbers on the legend are not that informative. Let’s change them:</p>
<div id="1ba8cf85" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>cities_df.region.<span class="bu">map</span>({<span class="dv">1</span>:<span class="st">'NE'</span>, <span class="dv">2</span>:<span class="st">'NW'</span>, <span class="dv">3</span>:<span class="st">'SW'</span>, <span class="dv">4</span>:<span class="st">'SE'</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>0     SE
1     NW
2     SW
3     SW
4     SW
5     SW
6     NE
7     SE
8     SW
9     SE
10    SE
11    NW
12    NE
13    SE
14    NW
15    SW
16    SE
17    SW
18    NE
19    SE
20    NE
21    NE
22    NW
23    SW
24    SW
25    NW
26    NW
27    SW
28    NE
29    NE
30    SW
31    SE
32    NW
33    NE
34    NE
35    SW
36    NW
37    NE
38    NE
39    SE
40    NW
41    SE
42    SW
43    NW
44    NE
45    SE
46    NW
47    SE
48    NE
49    NW
Name: region, dtype: object</code></pre>
</div>
</div>
<div id="8c89830c" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>cities_df[<span class="st">'region'</span>] <span class="op">=</span> cities_df.region.<span class="bu">map</span>({<span class="dv">1</span>:<span class="st">'NE'</span>, <span class="dv">2</span>:<span class="st">'NW'</span>, <span class="dv">3</span>:<span class="st">'SW'</span>, <span class="dv">4</span>:<span class="st">'SE'</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b477eaf4" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>sbn.scatterplot(cities_df, x<span class="op">=</span><span class="st">'longitude'</span>, y<span class="op">=</span><span class="st">'latitude'</span>, hue<span class="op">=</span><span class="st">'region'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pandas_files/figure-html/cell-32-output-1.png" width="585" height="433" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Much better.</p>
<div id="75d54730" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>cities_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="dataframe-operations" class="level2">
<h2 class="anchored" data-anchor-id="dataframe-operations">DataFrame Operations</h2>
<p>Pandas has a number of powerful methods that allow us to manipulate the DataFrame in interesting ways. Here we look at three:</p>
<ul>
<li>sorting</li>
<li>grouping</li>
<li>filtering</li>
</ul>
<section id="sorting" class="level3">
<h3 class="anchored" data-anchor-id="sorting">Sorting</h3>
<p>We can sort the DataFrame by the values of a given column. For example, to find the southern-most capital city:</p>
<div id="4392510a" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>cities_df.sort_values(by<span class="op">=</span><span class="st">'latitude'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Hawaii</td>
<td>Honolulu</td>
<td>21.307442</td>
<td>-157.857376</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">42</td>
<td>Texas</td>
<td>Austin</td>
<td>30.274670</td>
<td>-97.740349</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>Florida</td>
<td>Tallahassee</td>
<td>30.438118</td>
<td>-84.281296</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Louisiana</td>
<td>Baton Rouge</td>
<td>30.457069</td>
<td>-91.187393</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>Mississippi</td>
<td>Jackson</td>
<td>32.303848</td>
<td>-90.182106</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>Georgia</td>
<td>Atlanta&lt;br&gt;</td>
<td>33.749027</td>
<td>-84.388229</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>South Carolina</td>
<td>Columbia</td>
<td>34.000343</td>
<td>-81.033211</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>Oklahoma</td>
<td>Oklahoma City</td>
<td>35.492207</td>
<td>-97.503342</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>New Mexico</td>
<td>Santa Fe</td>
<td>35.682240</td>
<td>-105.939728</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>North Carolina</td>
<td>Raleigh</td>
<td>35.780430</td>
<td>-78.639099</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>Tennessee</td>
<td>Nashville</td>
<td>36.165810</td>
<td>-86.784241</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">45</td>
<td>Virginia</td>
<td>Richmond</td>
<td>37.538857</td>
<td>-77.433640</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>Kentucky</td>
<td>Frankfort</td>
<td>38.186722</td>
<td>-84.875374</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">47</td>
<td>West Virginia</td>
<td>Charleston</td>
<td>38.336246</td>
<td>-81.612328</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>Missouri</td>
<td>Jefferson City</td>
<td>38.579201</td>
<td>-92.172935</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Maryland</td>
<td>Annapolis</td>
<td>38.978764</td>
<td>-76.490936</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Kansas</td>
<td>Topeka</td>
<td>39.048191</td>
<td>-95.677956</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Delaware</td>
<td>Dover</td>
<td>39.157307</td>
<td>-75.519722</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>Nevada</td>
<td>Carson City</td>
<td>39.163914</td>
<td>-119.766121</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Colorado</td>
<td>Denver</td>
<td>39.739227</td>
<td>-104.984856</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>Indiana</td>
<td>Indianapolis</td>
<td>39.768623</td>
<td>-86.162643</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
<td>-89.654961</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>Ohio</td>
<td>Columbus</td>
<td>39.961346</td>
<td>-82.999069</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>New Jersey</td>
<td>Trenton</td>
<td>40.220596</td>
<td>-74.769913</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>Pennsylvania</td>
<td>Harrisburg</td>
<td>40.264378</td>
<td>-76.883598</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>Utah</td>
<td>Salt Lake City</td>
<td>40.777477</td>
<td>-111.888237</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>Nebraska</td>
<td>Lincoln</td>
<td>40.808075</td>
<td>-96.699654</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>Wyoming</td>
<td>Cheyenne</td>
<td>41.140259</td>
<td>-104.820236</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Iowa</td>
<td>Des Moines</td>
<td>41.591087</td>
<td>-93.603729</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
<td>-72.682198</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>Rhode Island</td>
<td>Providence</td>
<td>41.830914</td>
<td>-71.414963</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>Massachusetts</td>
<td>Boston</td>
<td>42.358162</td>
<td>-71.063698</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>New York</td>
<td>Albany</td>
<td>42.652843</td>
<td>-73.757874</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Michigan</td>
<td>Lansing</td>
<td>42.733635</td>
<td>-84.555328</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>Wisconsin</td>
<td>Madison</td>
<td>43.074684</td>
<td>-89.384445</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">28</td>
<td>New Hampshire</td>
<td>Concord</td>
<td>43.206898</td>
<td>-71.537994</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>Idaho</td>
<td>Boise</td>
<td>43.617775</td>
<td>-116.199722</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>Vermont</td>
<td>Montpelier</td>
<td>44.262436</td>
<td>-72.580536</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
<td>-69.781693</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">40</td>
<td>South Dakota</td>
<td>Pierre</td>
<td>44.367031</td>
<td>-100.346405</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>Oregon</td>
<td>Salem</td>
<td>44.938461</td>
<td>-123.030403</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>Minnesota</td>
<td>St. Paul</td>
<td>44.955097</td>
<td>-93.102211</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>Montana</td>
<td>Helena</td>
<td>46.585709</td>
<td>-112.018417</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>North Dakota</td>
<td>Bismarck</td>
<td>46.820850</td>
<td>-100.783318</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>Washington</td>
<td>Olympia</td>
<td>47.035805</td>
<td>-122.905014</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>To find the northern-most city:</p>
<div id="81958a45" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>cities_df.sort_values(by<span class="op">=</span><span class="st">'latitude'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">46</td>
<td>Washington</td>
<td>Olympia</td>
<td>47.035805</td>
<td>-122.905014</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>North Dakota</td>
<td>Bismarck</td>
<td>46.820850</td>
<td>-100.783318</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>Montana</td>
<td>Helena</td>
<td>46.585709</td>
<td>-112.018417</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Minnesota</td>
<td>St. Paul</td>
<td>44.955097</td>
<td>-93.102211</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36</td>
<td>Oregon</td>
<td>Salem</td>
<td>44.938461</td>
<td>-123.030403</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>South Dakota</td>
<td>Pierre</td>
<td>44.367031</td>
<td>-100.346405</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
<td>-69.781693</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Vermont</td>
<td>Montpelier</td>
<td>44.262436</td>
<td>-72.580536</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Idaho</td>
<td>Boise</td>
<td>43.617775</td>
<td>-116.199722</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>New Hampshire</td>
<td>Concord</td>
<td>43.206898</td>
<td>-71.537994</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48</td>
<td>Wisconsin</td>
<td>Madison</td>
<td>43.074684</td>
<td>-89.384445</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>Michigan</td>
<td>Lansing</td>
<td>42.733635</td>
<td>-84.555328</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>New York</td>
<td>Albany</td>
<td>42.652843</td>
<td>-73.757874</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Massachusetts</td>
<td>Boston</td>
<td>42.358162</td>
<td>-71.063698</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Rhode Island</td>
<td>Providence</td>
<td>41.830914</td>
<td>-71.414963</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
<td>-72.682198</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>Iowa</td>
<td>Des Moines</td>
<td>41.591087</td>
<td>-93.603729</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">49</td>
<td>Wyoming</td>
<td>Cheyenne</td>
<td>41.140259</td>
<td>-104.820236</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26</td>
<td>Nebraska</td>
<td>Lincoln</td>
<td>40.808075</td>
<td>-96.699654</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Utah</td>
<td>Salt Lake City</td>
<td>40.777477</td>
<td>-111.888237</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>Pennsylvania</td>
<td>Harrisburg</td>
<td>40.264378</td>
<td>-76.883598</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>New Jersey</td>
<td>Trenton</td>
<td>40.220596</td>
<td>-74.769913</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>Ohio</td>
<td>Columbus</td>
<td>39.961346</td>
<td>-82.999069</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
<td>-89.654961</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Indiana</td>
<td>Indianapolis</td>
<td>39.768623</td>
<td>-86.162643</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Colorado</td>
<td>Denver</td>
<td>39.739227</td>
<td>-104.984856</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Nevada</td>
<td>Carson City</td>
<td>39.163914</td>
<td>-119.766121</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>Delaware</td>
<td>Dover</td>
<td>39.157307</td>
<td>-75.519722</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Kansas</td>
<td>Topeka</td>
<td>39.048191</td>
<td>-95.677956</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>Maryland</td>
<td>Annapolis</td>
<td>38.978764</td>
<td>-76.490936</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>Missouri</td>
<td>Jefferson City</td>
<td>38.579201</td>
<td>-92.172935</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>West Virginia</td>
<td>Charleston</td>
<td>38.336246</td>
<td>-81.612328</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Kentucky</td>
<td>Frankfort</td>
<td>38.186722</td>
<td>-84.875374</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>Virginia</td>
<td>Richmond</td>
<td>37.538857</td>
<td>-77.433640</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41</td>
<td>Tennessee</td>
<td>Nashville</td>
<td>36.165810</td>
<td>-86.784241</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>North Carolina</td>
<td>Raleigh</td>
<td>35.780430</td>
<td>-78.639099</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>New Mexico</td>
<td>Santa Fe</td>
<td>35.682240</td>
<td>-105.939728</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>Oklahoma</td>
<td>Oklahoma City</td>
<td>35.492207</td>
<td>-97.503342</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>South Carolina</td>
<td>Columbia</td>
<td>34.000343</td>
<td>-81.033211</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Georgia</td>
<td>Atlanta&lt;br&gt;</td>
<td>33.749027</td>
<td>-84.388229</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>Mississippi</td>
<td>Jackson</td>
<td>32.303848</td>
<td>-90.182106</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Louisiana</td>
<td>Baton Rouge</td>
<td>30.457069</td>
<td>-91.187393</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Florida</td>
<td>Tallahassee</td>
<td>30.438118</td>
<td>-84.281296</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Texas</td>
<td>Austin</td>
<td>30.274670</td>
<td>-97.740349</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>Hawaii</td>
<td>Honolulu</td>
<td>21.307442</td>
<td>-157.857376</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>If we don’t want to see all the other columns, we can subset the dataframe first:</p>
<div id="45c2b82e" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>cities_df[[<span class="st">'name'</span>, <span class="st">'description'</span>, <span class="st">'latitude'</span>]].sort_values(by<span class="op">=</span><span class="st">'latitude'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">46</td>
<td>Washington</td>
<td>Olympia</td>
<td>47.035805</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>North Dakota</td>
<td>Bismarck</td>
<td>46.820850</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>Montana</td>
<td>Helena</td>
<td>46.585709</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Minnesota</td>
<td>St. Paul</td>
<td>44.955097</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36</td>
<td>Oregon</td>
<td>Salem</td>
<td>44.938461</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>South Dakota</td>
<td>Pierre</td>
<td>44.367031</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Vermont</td>
<td>Montpelier</td>
<td>44.262436</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Idaho</td>
<td>Boise</td>
<td>43.617775</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>New Hampshire</td>
<td>Concord</td>
<td>43.206898</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48</td>
<td>Wisconsin</td>
<td>Madison</td>
<td>43.074684</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>Michigan</td>
<td>Lansing</td>
<td>42.733635</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>New York</td>
<td>Albany</td>
<td>42.652843</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Massachusetts</td>
<td>Boston</td>
<td>42.358162</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Rhode Island</td>
<td>Providence</td>
<td>41.830914</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>Iowa</td>
<td>Des Moines</td>
<td>41.591087</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">49</td>
<td>Wyoming</td>
<td>Cheyenne</td>
<td>41.140259</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26</td>
<td>Nebraska</td>
<td>Lincoln</td>
<td>40.808075</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Utah</td>
<td>Salt Lake City</td>
<td>40.777477</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>Pennsylvania</td>
<td>Harrisburg</td>
<td>40.264378</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>New Jersey</td>
<td>Trenton</td>
<td>40.220596</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>Ohio</td>
<td>Columbus</td>
<td>39.961346</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Indiana</td>
<td>Indianapolis</td>
<td>39.768623</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Colorado</td>
<td>Denver</td>
<td>39.739227</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Nevada</td>
<td>Carson City</td>
<td>39.163914</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>Delaware</td>
<td>Dover</td>
<td>39.157307</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Kansas</td>
<td>Topeka</td>
<td>39.048191</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>Maryland</td>
<td>Annapolis</td>
<td>38.978764</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>Missouri</td>
<td>Jefferson City</td>
<td>38.579201</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>West Virginia</td>
<td>Charleston</td>
<td>38.336246</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Kentucky</td>
<td>Frankfort</td>
<td>38.186722</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>Virginia</td>
<td>Richmond</td>
<td>37.538857</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41</td>
<td>Tennessee</td>
<td>Nashville</td>
<td>36.165810</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>North Carolina</td>
<td>Raleigh</td>
<td>35.780430</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>New Mexico</td>
<td>Santa Fe</td>
<td>35.682240</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>Oklahoma</td>
<td>Oklahoma City</td>
<td>35.492207</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>South Carolina</td>
<td>Columbia</td>
<td>34.000343</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Georgia</td>
<td>Atlanta&lt;br&gt;</td>
<td>33.749027</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>Mississippi</td>
<td>Jackson</td>
<td>32.303848</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Louisiana</td>
<td>Baton Rouge</td>
<td>30.457069</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Florida</td>
<td>Tallahassee</td>
<td>30.438118</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Texas</td>
<td>Austin</td>
<td>30.274670</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>Hawaii</td>
<td>Honolulu</td>
<td>21.307442</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="grouping" class="level3">
<h3 class="anchored" data-anchor-id="grouping">Grouping</h3>
<p>The <code>groupby</code> method of the DataFrame allows us to split the dataframe, apply a function, and combine the results. This allows us to group data in interesting ways.</p>
<p>Suppose we wanted to know how many cities were in the east and west?</p>
<div id="b6cdf5de" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>cities_df.groupby(by<span class="op">=</span><span class="st">'east'</span>).count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">False</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">True</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>And for south and north:</p>
<div id="6704e823" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>cities_df.groupby(by<span class="op">=</span><span class="st">'south'</span>).count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">False</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">True</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>How about by region?</p>
<div id="90deac20" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>cities_df.groupby(by<span class="op">=</span><span class="st">'region'</span>).count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">NE</td>
<td>13</td>
<td>13</td>
<td>13</td>
<td>13</td>
<td>13</td>
<td>13</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">NW</td>
<td>12</td>
<td>12</td>
<td>12</td>
<td>12</td>
<td>12</td>
<td>12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">SE</td>
<td>12</td>
<td>12</td>
<td>12</td>
<td>12</td>
<td>12</td>
<td>12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">SW</td>
<td>13</td>
<td>13</td>
<td>13</td>
<td>13</td>
<td>13</td>
<td>13</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>As we will see later in the course, there are different notions of a <code>spatial median</code>. This will unravel the mystery of why we have equal numbers of cities in the north and south, and east and west, but not in the four regions.</p>
</div>
</div>
<p>In addition to applying the <code>count</code> method on the groubby object, we could use other functions. For example, we may want to know the median coordinate values in each of the four regions:</p>
<div id="0710e130" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>cities_df[[<span class="st">'region'</span>, <span class="st">'longitude'</span>, <span class="st">'latitude'</span>]].groupby(by<span class="op">=</span><span class="st">'region'</span>).median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">NE</td>
<td>-73.757874</td>
<td>42.358162</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">NW</td>
<td>-108.354236</td>
<td>44.652746</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">SE</td>
<td>-82.946812</td>
<td>36.852334</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">SW</td>
<td>-97.740349</td>
<td>35.492207</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="filtering" class="level3">
<h3 class="anchored" data-anchor-id="filtering">Filtering</h3>
<p>Filtering allows us to subset the DataFrame based on some conditions. For example, what if we wanted to create a new DataFrame that only contained the southern capital cities:</p>
<div id="100cf335" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>south_df <span class="op">=</span> cities_df[cities_df.south]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="42d876c3" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>south_df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>(25, 7)</code></pre>
</div>
</div>
<div id="fdfa1950" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>south_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>SE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Colorado</td>
<td>Denver</td>
<td>39.739227</td>
<td>-104.984856</td>
<td>False</td>
<td>True</td>
<td>SW</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>And to get a DataFrame for the northern cities, we could use a complement filter:</p>
<div id="82523acc" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>north_df <span class="op">=</span> cities_df[<span class="op">~</span>cities_df.south]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>~</code> operator can be thought of flipping the boolean condition.</p>
<div id="94e6a745" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>north_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
<td>-72.682198</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>Idaho</td>
<td>Boise</td>
<td>43.617775</td>
<td>-116.199722</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
<td>-89.654961</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Iowa</td>
<td>Des Moines</td>
<td>41.591087</td>
<td>-93.603729</td>
<td>False</td>
<td>False</td>
<td>NW</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We could combine these to get the DataFrame for cities in the North East region:</p>
<div id="d434048a" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>ne_df <span class="op">=</span> cities_df[<span class="op">~</span>cities_df.south <span class="op">&amp;</span> cities_df.east]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ea1bf035" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>ne_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
<td>-72.682198</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
<td>-89.654961</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
<td>-69.781693</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>Massachusetts</td>
<td>Boston</td>
<td>42.358162</td>
<td>-71.063698</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>Michigan</td>
<td>Lansing</td>
<td>42.733635</td>
<td>-84.555328</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Like most things we will want to do, there are typically multiple ways to accomplish this in Python. Here we can get a set of regional DataFrames in one shot:</p>
<div id="e07d25f6" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>dfs <span class="op">=</span> {r:data <span class="cf">for</span> r, data <span class="kw">in</span> cities_df.groupby(<span class="st">'region'</span>)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ef7e6e1e" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>dfs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>{'NE':              name   description   latitude  longitude  east  south region
 6     Connecticut  Hartford&lt;br&gt;  41.764046 -72.682198  True  False     NE
 12       Illinois   Springfield  39.798363 -89.654961  True  False     NE
 18          Maine       Augusta  44.307167 -69.781693  True  False     NE
 20  Massachusetts        Boston  42.358162 -71.063698  True  False     NE
 21       Michigan       Lansing  42.733635 -84.555328  True  False     NE
 28  New Hampshire       Concord  43.206898 -71.537994  True  False     NE
 29     New Jersey       Trenton  40.220596 -74.769913  True  False     NE
 33       New York        Albany  42.652843 -73.757874  True  False     NE
 34           Ohio      Columbus  39.961346 -82.999069  True  False     NE
 37   Pennsylvania    Harrisburg  40.264378 -76.883598  True  False     NE
 38   Rhode Island    Providence  41.830914 -71.414963  True  False     NE
 44        Vermont    Montpelier  44.262436 -72.580536  True  False     NE
 48      Wisconsin       Madison  43.074684 -89.384445  True  False     NE,
 'NW':             name     description   latitude   longitude   east  south region
 1         Alaska          Juneau  58.301598 -134.420212  False  False     NW
 11         Idaho           Boise  43.617775 -116.199722  False  False     NW
 14          Iowa      Des Moines  41.591087  -93.603729  False  False     NW
 22     Minnesota        St. Paul  44.955097  -93.102211  False  False     NW
 25       Montana          Helena  46.585709 -112.018417  False  False     NW
 26      Nebraska         Lincoln  40.808075  -96.699654  False  False     NW
 32  North Dakota        Bismarck  46.820850 -100.783318  False  False     NW
 36        Oregon           Salem  44.938461 -123.030403  False  False     NW
 40  South Dakota          Pierre  44.367031 -100.346405  False  False     NW
 43          Utah  Salt Lake City  40.777477 -111.888237  False  False     NW
 46    Washington         Olympia  47.035805 -122.905014  False  False     NW
 49       Wyoming        Cheyenne  41.140259 -104.820236  False  False     NW,
 'SE':               name   description   latitude  longitude  east  south region
 0          Alabama    Montgomery  32.377716 -86.300568  True   True     SE
 7         Delaware         Dover  39.157307 -75.519722  True   True     SE
 9          Florida   Tallahassee  30.438118 -84.281296  True   True     SE
 10         Georgia   Atlanta&lt;br&gt;  33.749027 -84.388229  True   True     SE
 13         Indiana  Indianapolis  39.768623 -86.162643  True   True     SE
 16        Kentucky     Frankfort  38.186722 -84.875374  True   True     SE
 19        Maryland     Annapolis  38.978764 -76.490936  True   True     SE
 31  North Carolina       Raleigh  35.780430 -78.639099  True   True     SE
 39  South Carolina      Columbia  34.000343 -81.033211  True   True     SE
 41       Tennessee     Nashville  36.165810 -86.784241  True   True     SE
 45        Virginia      Richmond  37.538857 -77.433640  True   True     SE
 47   West Virginia    Charleston  38.336246 -81.612328  True   True     SE,
 'SW':            name     description   latitude   longitude   east  south region
 2       Arizona         Phoenix  33.448143 -112.096962  False   True     SW
 3      Arkansas     Little Rock  34.746613  -92.288986  False   True     SW
 4    California      Sacramento  38.576668 -121.493629  False   True     SW
 5      Colorado          Denver  39.739227 -104.984856  False   True     SW
 8        Hawaii        Honolulu  21.307442 -157.857376  False   True     SW
 15       Kansas          Topeka  39.048191  -95.677956  False   True     SW
 17    Louisiana     Baton Rouge  30.457069  -91.187393  False   True     SW
 23  Mississippi         Jackson  32.303848  -90.182106  False   True     SW
 24     Missouri  Jefferson City  38.579201  -92.172935  False   True     SW
 27       Nevada     Carson City  39.163914 -119.766121  False   True     SW
 30   New Mexico        Santa Fe  35.682240 -105.939728  False   True     SW
 35     Oklahoma   Oklahoma City  35.492207  -97.503342  False   True     SW
 42        Texas          Austin  30.274670  -97.740349  False   True     SW}</code></pre>
</div>
</div>
<p>They are stored in a dictionary, so we could access each one using the region ‘key’.</p>
<div id="921c63ac" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>dfs[<span class="st">'NE'</span>].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
<td>-72.682198</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
<td>-89.654961</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
<td>-69.781693</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>Massachusetts</td>
<td>Boston</td>
<td>42.358162</td>
<td>-71.063698</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>Michigan</td>
<td>Lansing</td>
<td>42.733635</td>
<td>-84.555328</td>
<td>True</td>
<td>False</td>
<td>NE</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="merge" class="level2">
<h2 class="anchored" data-anchor-id="merge">Merge</h2>
<p>A common workflow in spatial analysis is combining different data sets. Often we will have information on the locations or geographical coordinates in one data set, but that data set may not include any substantive attribute information. We may have a second data set that has the attribute information we are interested in, but this second data set lacks geographical coordinates. So we will have cause to <code>merge</code> the two data sets</p>
<div id="3b9e16e1" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>population_df <span class="op">=</span> pd.read_csv(<span class="ss">f"</span><span class="sc">{</span>home<span class="sc">}</span><span class="ss">/data/385/studio02/captial_population.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e0fb7259" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>population_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Capital</th>
<th data-quarto-table-cell-role="th">Since</th>
<th data-quarto-table-cell-role="th">Area</th>
<th data-quarto-table-cell-role="th">CityPop</th>
<th data-quarto-table-cell-role="th">MSAPop</th>
<th data-quarto-table-cell-role="th">CSAPop</th>
<th data-quarto-table-cell-role="th">rank_in_state</th>
<th data-quarto-table-cell-role="th">area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>1846</td>
<td>159.8&nbsp;sq&nbsp;mi (414&nbsp;km2)</td>
<td>200603</td>
<td>386047</td>
<td>476207.0</td>
<td>3</td>
<td>159.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>1906</td>
<td>2,716.7&nbsp;sq&nbsp;mi (7,036&nbsp;km2)</td>
<td>32255</td>
<td>32255</td>
<td>NaN</td>
<td>3</td>
<td>2716.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>1889</td>
<td>517.6&nbsp;sq&nbsp;mi (1,341&nbsp;km2)</td>
<td>1608139</td>
<td>4845832</td>
<td>4899104.0</td>
<td>1</td>
<td>517.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>1821</td>
<td>116.2&nbsp;sq&nbsp;mi (301&nbsp;km2)</td>
<td>202591</td>
<td>748031</td>
<td>912604.0</td>
<td>1</td>
<td>116.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>1854</td>
<td>97.9&nbsp;sq&nbsp;mi (254&nbsp;km2)</td>
<td>524943</td>
<td>2397382</td>
<td>2680831.0</td>
<td>6</td>
<td>97.9</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="ded09211" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(cities_df, population_df, left_on<span class="op">=</span><span class="st">'name'</span>, right_on<span class="op">=</span><span class="st">'State'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="8b9cc27e" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>merged.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Capital</th>
<th data-quarto-table-cell-role="th">Since</th>
<th data-quarto-table-cell-role="th">Area</th>
<th data-quarto-table-cell-role="th">CityPop</th>
<th data-quarto-table-cell-role="th">MSAPop</th>
<th data-quarto-table-cell-role="th">CSAPop</th>
<th data-quarto-table-cell-role="th">rank_in_state</th>
<th data-quarto-table-cell-role="th">area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>1846</td>
<td>159.8&nbsp;sq&nbsp;mi (414&nbsp;km2)</td>
<td>200603</td>
<td>386047</td>
<td>476207.0</td>
<td>3</td>
<td>159.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>Alaska</td>
<td>Juneau</td>
<td>1906</td>
<td>2,716.7&nbsp;sq&nbsp;mi (7,036&nbsp;km2)</td>
<td>32255</td>
<td>32255</td>
<td>NaN</td>
<td>3</td>
<td>2716.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>1889</td>
<td>517.6&nbsp;sq&nbsp;mi (1,341&nbsp;km2)</td>
<td>1608139</td>
<td>4845832</td>
<td>4899104.0</td>
<td>1</td>
<td>517.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>1821</td>
<td>116.2&nbsp;sq&nbsp;mi (301&nbsp;km2)</td>
<td>202591</td>
<td>748031</td>
<td>912604.0</td>
<td>1</td>
<td>116.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>California</td>
<td>Sacramento</td>
<td>1854</td>
<td>97.9&nbsp;sq&nbsp;mi (254&nbsp;km2)</td>
<td>524943</td>
<td>2397382</td>
<td>2680831.0</td>
<td>6</td>
<td>97.9</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="d8388a5b" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>merged.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>(50, 16)</code></pre>
</div>
</div>
<div id="e50959ca" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(cities_df, population_df[[<span class="st">'CityPop'</span>, <span class="st">'rank_in_state'</span>, <span class="st">'area'</span>, <span class="st">'State'</span>]], left_on<span class="op">=</span><span class="st">'name'</span>, right_on<span class="op">=</span><span class="st">'State'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ae1bd425" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>merged.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre><code>(50, 11)</code></pre>
</div>
</div>
</section>
<section id="saving-files" class="level2">
<h2 class="anchored" data-anchor-id="saving-files">Saving Files</h2>
<p>In addition to reading data files, as we did at the beginning of this session, pandas can also create files to save to disk. It is very useful to separate your more complicated data analysis workflows into stages. Typically, the earlier stages will involve data reading, creation of new variables, and or merging different data sets. Much like we have done here. Subsequent steps would be analyzing the data that we have just constructed.</p>
<p>We do not want to have to repeat the data processing steps each time we need to carry out the analysis. To avoid this, we have our data processing notebooks save the newly created data to external files. This way the analysis notebooks only have to read these newly created files - we do not have to recreate them.</p>
<p>Let’s save our latest DataFrame to a csv so we can use it again later.</p>
<div id="baaa6e0c" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>merged.to_csv(<span class="st">"merged.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can show that the merge above will work irrespective of order.</p>
<div id="b1862b63" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>merged.sort_values(by<span class="op">=</span><span class="st">'description'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">CityPop</th>
<th data-quarto-table-cell-role="th">rank_in_state</th>
<th data-quarto-table-cell-role="th">area</th>
<th data-quarto-table-cell-role="th">State</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>New York</td>
<td>Albany</td>
<td>42.652843</td>
<td>-73.757874</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>99224</td>
<td>6</td>
<td>21.40</td>
<td>New York</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Maryland</td>
<td>Annapolis</td>
<td>38.978764</td>
<td>-76.490936</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>40812</td>
<td>7</td>
<td>6.73</td>
<td>Maryland</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Georgia</td>
<td>Atlanta&lt;br&gt;</td>
<td>33.749027</td>
<td>-84.388229</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>498715</td>
<td>1</td>
<td>133.50</td>
<td>Georgia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
<td>-69.781693</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>18899</td>
<td>10</td>
<td>55.40</td>
<td>Maine</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Texas</td>
<td>Austin</td>
<td>30.274670</td>
<td>-97.740349</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>961855</td>
<td>4</td>
<td>305.10</td>
<td>Texas</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Louisiana</td>
<td>Baton Rouge</td>
<td>30.457069</td>
<td>-91.187393</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>227470</td>
<td>2</td>
<td>76.80</td>
<td>Louisiana</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>North Dakota</td>
<td>Bismarck</td>
<td>46.820850</td>
<td>-100.783318</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>73622</td>
<td>2</td>
<td>26.90</td>
<td>North Dakota</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Idaho</td>
<td>Boise</td>
<td>43.617775</td>
<td>-116.199722</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>235684</td>
<td>1</td>
<td>63.80</td>
<td>Idaho</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Massachusetts</td>
<td>Boston</td>
<td>42.358162</td>
<td>-71.063698</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>675647</td>
<td>1</td>
<td>89.60</td>
<td>Massachusetts</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Nevada</td>
<td>Carson City</td>
<td>39.163914</td>
<td>-119.766121</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>58639</td>
<td>6</td>
<td>143.40</td>
<td>Nevada</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">47</td>
<td>West Virginia</td>
<td>Charleston</td>
<td>38.336246</td>
<td>-81.612328</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>48864</td>
<td>1</td>
<td>31.60</td>
<td>West Virginia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>Wyoming</td>
<td>Cheyenne</td>
<td>41.140259</td>
<td>-104.820236</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>65132</td>
<td>1</td>
<td>21.10</td>
<td>Wyoming</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>South Carolina</td>
<td>Columbia</td>
<td>34.000343</td>
<td>-81.033211</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>136632</td>
<td>2</td>
<td>125.20</td>
<td>South Carolina</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>Ohio</td>
<td>Columbus</td>
<td>39.961346</td>
<td>-82.999069</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>905748</td>
<td>1</td>
<td>210.30</td>
<td>Ohio</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>New Hampshire</td>
<td>Concord</td>
<td>43.206898</td>
<td>-71.537994</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>43976</td>
<td>3</td>
<td>64.30</td>
<td>New Hampshire</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Colorado</td>
<td>Denver</td>
<td>39.739227</td>
<td>-104.984856</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>715522</td>
<td>1</td>
<td>153.30</td>
<td>Colorado</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Iowa</td>
<td>Des Moines</td>
<td>41.591087</td>
<td>-93.603729</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>214133</td>
<td>1</td>
<td>75.80</td>
<td>Iowa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Delaware</td>
<td>Dover</td>
<td>39.157307</td>
<td>-75.519722</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>39403</td>
<td>2</td>
<td>22.40</td>
<td>Delaware</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Kentucky</td>
<td>Frankfort</td>
<td>38.186722</td>
<td>-84.875374</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>28602</td>
<td>15</td>
<td>14.70</td>
<td>Kentucky</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>Pennsylvania</td>
<td>Harrisburg</td>
<td>40.264378</td>
<td>-76.883598</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>50099</td>
<td>9</td>
<td>8.11</td>
<td>Pennsylvania</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>Hartford&lt;br&gt;</td>
<td>41.764046</td>
<td>-72.682198</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>121054</td>
<td>4</td>
<td>17.30</td>
<td>Connecticut</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>Montana</td>
<td>Helena</td>
<td>46.585709</td>
<td>-112.018417</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>32091</td>
<td>6</td>
<td>14.00</td>
<td>Montana</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Hawaii</td>
<td>Honolulu</td>
<td>21.307442</td>
<td>-157.857376</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>350964</td>
<td>1</td>
<td>68.40</td>
<td>Hawaii</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Indiana</td>
<td>Indianapolis</td>
<td>39.768623</td>
<td>-86.162643</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>887642</td>
<td>1</td>
<td>361.50</td>
<td>Indiana</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>Mississippi</td>
<td>Jackson</td>
<td>32.303848</td>
<td>-90.182106</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>153701</td>
<td>1</td>
<td>104.90</td>
<td>Mississippi</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>Missouri</td>
<td>Jefferson City</td>
<td>38.579201</td>
<td>-92.172935</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>43228</td>
<td>15</td>
<td>27.30</td>
<td>Missouri</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>32255</td>
<td>3</td>
<td>2716.70</td>
<td>Alaska</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Michigan</td>
<td>Lansing</td>
<td>42.733635</td>
<td>-84.555328</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>112644</td>
<td>5</td>
<td>35.00</td>
<td>Michigan</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>Nebraska</td>
<td>Lincoln</td>
<td>40.808075</td>
<td>-96.699654</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>291082</td>
<td>2</td>
<td>74.60</td>
<td>Nebraska</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>202591</td>
<td>1</td>
<td>116.20</td>
<td>Arkansas</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>Wisconsin</td>
<td>Madison</td>
<td>43.074684</td>
<td>-89.384445</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>269840</td>
<td>2</td>
<td>68.70</td>
<td>Wisconsin</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>200603</td>
<td>3</td>
<td>159.80</td>
<td>Alabama</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Vermont</td>
<td>Montpelier</td>
<td>44.262436</td>
<td>-72.580536</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>8074</td>
<td>6</td>
<td>10.20</td>
<td>Vermont</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>Tennessee</td>
<td>Nashville</td>
<td>36.165810</td>
<td>-86.784241</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>689447</td>
<td>1</td>
<td>525.90</td>
<td>Tennessee</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>Oklahoma</td>
<td>Oklahoma City</td>
<td>35.492207</td>
<td>-97.503342</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>681054</td>
<td>1</td>
<td>620.30</td>
<td>Oklahoma</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">46</td>
<td>Washington</td>
<td>Olympia</td>
<td>47.035805</td>
<td>-122.905014</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>55605</td>
<td>23</td>
<td>16.70</td>
<td>Washington</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>1608139</td>
<td>1</td>
<td>517.60</td>
<td>Arizona</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">40</td>
<td>South Dakota</td>
<td>Pierre</td>
<td>44.367031</td>
<td>-100.346405</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>14091</td>
<td>9</td>
<td>13.00</td>
<td>South Dakota</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>Rhode Island</td>
<td>Providence</td>
<td>41.830914</td>
<td>-71.414963</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>190934</td>
<td>1</td>
<td>18.50</td>
<td>Rhode Island</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>North Carolina</td>
<td>Raleigh</td>
<td>35.780430</td>
<td>-78.639099</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>467665</td>
<td>2</td>
<td>114.60</td>
<td>North Carolina</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">45</td>
<td>Virginia</td>
<td>Richmond</td>
<td>37.538857</td>
<td>-77.433640</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>226610</td>
<td>4</td>
<td>60.10</td>
<td>Virginia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>524943</td>
<td>6</td>
<td>97.90</td>
<td>California</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>Oregon</td>
<td>Salem</td>
<td>44.938461</td>
<td>-123.030403</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>175535</td>
<td>3</td>
<td>45.70</td>
<td>Oregon</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>Utah</td>
<td>Salt Lake City</td>
<td>40.777477</td>
<td>-111.888237</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>199723</td>
<td>1</td>
<td>109.10</td>
<td>Utah</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>New Mexico</td>
<td>Santa Fe</td>
<td>35.682240</td>
<td>-105.939728</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>87505</td>
<td>4</td>
<td>37.30</td>
<td>New Mexico</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>Springfield</td>
<td>39.798363</td>
<td>-89.654961</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>114394</td>
<td>7</td>
<td>54.00</td>
<td>Illinois</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Minnesota</td>
<td>St. Paul</td>
<td>44.955097</td>
<td>-93.102211</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>311527</td>
<td>2</td>
<td>52.80</td>
<td>Minnesota</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Florida</td>
<td>Tallahassee</td>
<td>30.438118</td>
<td>-84.281296</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>196169</td>
<td>8</td>
<td>95.70</td>
<td>Florida</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Kansas</td>
<td>Topeka</td>
<td>39.048191</td>
<td>-95.677956</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>126587</td>
<td>5</td>
<td>56.00</td>
<td>Kansas</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>New Jersey</td>
<td>Trenton</td>
<td>40.220596</td>
<td>-74.769913</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>90871</td>
<td>10</td>
<td>7.66</td>
<td>New Jersey</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Let’s write this out to a second new file:</p>
<div id="9638a2fc" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>merged.sort_values(by<span class="op">=</span><span class="st">'description'</span>).to_csv(<span class="st">'merged1.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now read it in and redo a merge to compare to what we did above</p>
<div id="7309ae8f" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>pop_df <span class="op">=</span> pd.read_csv(<span class="st">'merged1.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f8e2db0e" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>pop_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">CityPop</th>
<th data-quarto-table-cell-role="th">rank_in_state</th>
<th data-quarto-table-cell-role="th">area</th>
<th data-quarto-table-cell-role="th">State</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>New York</td>
<td>Albany</td>
<td>42.652843</td>
<td>-73.757874</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>99224</td>
<td>6</td>
<td>21.40</td>
<td>New York</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Maryland</td>
<td>Annapolis</td>
<td>38.978764</td>
<td>-76.490936</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>40812</td>
<td>7</td>
<td>6.73</td>
<td>Maryland</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Georgia</td>
<td>Atlanta&lt;br&gt;</td>
<td>33.749027</td>
<td>-84.388229</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>498715</td>
<td>1</td>
<td>133.50</td>
<td>Georgia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Maine</td>
<td>Augusta</td>
<td>44.307167</td>
<td>-69.781693</td>
<td>True</td>
<td>False</td>
<td>NE</td>
<td>18899</td>
<td>10</td>
<td>55.40</td>
<td>Maine</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Texas</td>
<td>Austin</td>
<td>30.274670</td>
<td>-97.740349</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>961855</td>
<td>4</td>
<td>305.10</td>
<td>Texas</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="b6d2aa31" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>merged1 <span class="op">=</span> pd.merge(cities_df, pop_df[[<span class="st">'CityPop'</span>, <span class="st">'rank_in_state'</span>, <span class="st">'area'</span>, <span class="st">'State'</span>]], left_on<span class="op">=</span><span class="st">'name'</span>, right_on<span class="op">=</span><span class="st">'State'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="9b0a0862" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>merged1.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>(50, 11)</code></pre>
</div>
</div>
<div id="a1141c70" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>merged1.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">CityPop</th>
<th data-quarto-table-cell-role="th">rank_in_state</th>
<th data-quarto-table-cell-role="th">area</th>
<th data-quarto-table-cell-role="th">State</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>200603</td>
<td>3</td>
<td>159.8</td>
<td>Alabama</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>32255</td>
<td>3</td>
<td>2716.7</td>
<td>Alaska</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>1608139</td>
<td>1</td>
<td>517.6</td>
<td>Arizona</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>202591</td>
<td>1</td>
<td>116.2</td>
<td>Arkansas</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>524943</td>
<td>6</td>
<td>97.9</td>
<td>California</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="22babbf9" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>merged.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">east</th>
<th data-quarto-table-cell-role="th">south</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">CityPop</th>
<th data-quarto-table-cell-role="th">rank_in_state</th>
<th data-quarto-table-cell-role="th">area</th>
<th data-quarto-table-cell-role="th">State</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Montgomery</td>
<td>32.377716</td>
<td>-86.300568</td>
<td>True</td>
<td>True</td>
<td>SE</td>
<td>200603</td>
<td>3</td>
<td>159.8</td>
<td>Alabama</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>Juneau</td>
<td>58.301598</td>
<td>-134.420212</td>
<td>False</td>
<td>False</td>
<td>NW</td>
<td>32255</td>
<td>3</td>
<td>2716.7</td>
<td>Alaska</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>Phoenix</td>
<td>33.448143</td>
<td>-112.096962</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>1608139</td>
<td>1</td>
<td>517.6</td>
<td>Arizona</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>Little Rock</td>
<td>34.746613</td>
<td>-92.288986</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>202591</td>
<td>1</td>
<td>116.2</td>
<td>Arkansas</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>Sacramento</td>
<td>38.576668</td>
<td>-121.493629</td>
<td>False</td>
<td>True</td>
<td>SW</td>
<td>524943</td>
<td>6</td>
<td>97.9</td>
<td>California</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>


<!-- -->


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-mckinney-proc-scipy-2010" class="csl-entry" role="listitem">
McKinney, Wes. 2010. <span>“<span>D</span>ata <span>S</span>tructures for <span>S</span>tatistical <span>C</span>omputing in <span>P</span>ython.”</span> In <em><span>P</span>roceedings of the 9th <span>P</span>ython in <span>S</span>cience <span>C</span>onference</em>, edited by Stéfan van der Walt and Jarrod Millman, 56–61. <a href="https://doi.org/10.25080/Majora-92bf1922-00a ">https://doi.org/10.25080/Majora-92bf1922-00a </a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/sjsrey\.github\.io\/385f24\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb87" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Introduction to Pandas</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> Serge Rey</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: false</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="an">jupyter:</span><span class="co"> python3</span></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>In this notebook we introduce <span class="co">[</span><span class="ot">pandas</span><span class="co">](https://pandas.pydata.org/)</span> <span class="co">[</span><span class="ot">@mckinney-proc-scipy-2010</span><span class="co">]</span>  which is the main package for working with</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>data in Python.</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a><span class="fu">## Import</span></span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>We start by importing the package, and aliasing it as <span class="in">`pd`</span></span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-24"><a href="#cb87-24" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-25"><a href="#cb87-25" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb87-26"><a href="#cb87-26" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-27"><a href="#cb87-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-28"><a href="#cb87-28" aria-hidden="true" tabindex="-1"></a>Aliasing allows us to use <span class="in">`pd`</span> in place of having to type out <span class="in">`pandas`</span> in what</span>
<span id="cb87-29"><a href="#cb87-29" aria-hidden="true" tabindex="-1"></a>follows.</span>
<span id="cb87-30"><a href="#cb87-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-31"><a href="#cb87-31" aria-hidden="true" tabindex="-1"></a><span class="fu">## DataFrame Creation</span></span>
<span id="cb87-32"><a href="#cb87-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-33"><a href="#cb87-33" aria-hidden="true" tabindex="-1"></a>Pandas main data structure is called a <span class="in">`DataFrame`</span>. We will create our first</span>
<span id="cb87-34"><a href="#cb87-34" aria-hidden="true" tabindex="-1"></a>DataFrame by reading a <span class="in">`csv`</span> file.</span>
<span id="cb87-35"><a href="#cb87-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-36"><a href="#cb87-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-39"><a href="#cb87-39" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-40"><a href="#cb87-40" aria-hidden="true" tabindex="-1"></a>home <span class="op">=</span> <span class="st">"/home/serge"</span>                    <span class="co"># &lt;1&gt;</span></span>
<span id="cb87-41"><a href="#cb87-41" aria-hidden="true" tabindex="-1"></a>cities_df <span class="op">=</span> pd.read_csv(<span class="ss">f"</span><span class="sc">{</span>home<span class="sc">}</span><span class="ss">/data/385/studio02/cities.csv"</span>)</span>
<span id="cb87-42"><a href="#cb87-42" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-43"><a href="#cb87-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-44"><a href="#cb87-44" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Change the value <span class="in">`home`</span> to be equal to <span class="in">`jupyter-student`</span> where <span class="in">`student`</span> is</span>
<span id="cb87-45"><a href="#cb87-45" aria-hidden="true" tabindex="-1"></a>   your id.</span>
<span id="cb87-46"><a href="#cb87-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-47"><a href="#cb87-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-48"><a href="#cb87-48" aria-hidden="true" tabindex="-1"></a>::: {.callout-warning}</span>
<span id="cb87-49"><a href="#cb87-49" aria-hidden="true" tabindex="-1"></a>Be sure to reread the instructions to change the path in the previous cell if</span>
<span id="cb87-50"><a href="#cb87-50" aria-hidden="true" tabindex="-1"></a>you wish to follow along in your own notebook.</span>
<span id="cb87-51"><a href="#cb87-51" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb87-52"><a href="#cb87-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-53"><a href="#cb87-53" aria-hidden="true" tabindex="-1"></a>Asking for the values of the <span class="in">`cities_df`</span> give us:</span>
<span id="cb87-54"><a href="#cb87-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-57"><a href="#cb87-57" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-58"><a href="#cb87-58" aria-hidden="true" tabindex="-1"></a>cities_df</span>
<span id="cb87-59"><a href="#cb87-59" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-60"><a href="#cb87-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-61"><a href="#cb87-61" aria-hidden="true" tabindex="-1"></a>This data set is composed of the capital cities for the 50 states.</span>
<span id="cb87-62"><a href="#cb87-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-63"><a href="#cb87-63" aria-hidden="true" tabindex="-1"></a>We can see what type of object <span class="in">`cities_df`</span> is using <span class="in">`type`</span>:</span>
<span id="cb87-64"><a href="#cb87-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-67"><a href="#cb87-67" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-68"><a href="#cb87-68" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(cities_df)</span>
<span id="cb87-69"><a href="#cb87-69" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-70"><a href="#cb87-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-71"><a href="#cb87-71" aria-hidden="true" tabindex="-1"></a>As an analogy, you can think of a DataFrame as a spreadsheet with rows and</span>
<span id="cb87-72"><a href="#cb87-72" aria-hidden="true" tabindex="-1"></a>columns. This mental model will help to orient you. We will see that the</span>
<span id="cb87-73"><a href="#cb87-73" aria-hidden="true" tabindex="-1"></a>DataFrame extends spreadsheets in powerful ways for data analysis.</span>
<span id="cb87-74"><a href="#cb87-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-75"><a href="#cb87-75" aria-hidden="true" tabindex="-1"></a>A DataFrame, like most Python objects, has a number of <span class="in">`attributes`</span> and</span>
<span id="cb87-76"><a href="#cb87-76" aria-hidden="true" tabindex="-1"></a><span class="in">`methods`</span>.</span>
<span id="cb87-77"><a href="#cb87-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-78"><a href="#cb87-78" aria-hidden="true" tabindex="-1"></a>Its <span class="in">`shape`</span> attribute tells us how many observations and variables we have.</span>
<span id="cb87-79"><a href="#cb87-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-80"><a href="#cb87-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-83"><a href="#cb87-83" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-84"><a href="#cb87-84" aria-hidden="true" tabindex="-1"></a>cities_df.shape</span>
<span id="cb87-85"><a href="#cb87-85" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-86"><a href="#cb87-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-87"><a href="#cb87-87" aria-hidden="true" tabindex="-1"></a>In this case our data set has 50 observations on 4 variables.</span>
<span id="cb87-88"><a href="#cb87-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-89"><a href="#cb87-89" aria-hidden="true" tabindex="-1"></a><span class="fu">## Series</span></span>
<span id="cb87-90"><a href="#cb87-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-91"><a href="#cb87-91" aria-hidden="true" tabindex="-1"></a>Each variable is stored as a <span class="in">`Series`</span>:</span>
<span id="cb87-92"><a href="#cb87-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-95"><a href="#cb87-95" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-96"><a href="#cb87-96" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(cities_df.longitude)</span>
<span id="cb87-97"><a href="#cb87-97" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-98"><a href="#cb87-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-101"><a href="#cb87-101" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-102"><a href="#cb87-102" aria-hidden="true" tabindex="-1"></a>cities_df.longitude</span>
<span id="cb87-103"><a href="#cb87-103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-104"><a href="#cb87-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-105"><a href="#cb87-105" aria-hidden="true" tabindex="-1"></a>When we ask for the contents of the series, we see two columns of numbers. The</span>
<span id="cb87-106"><a href="#cb87-106" aria-hidden="true" tabindex="-1"></a>first is a set of integers which is the index. Each value in the index locates</span>
<span id="cb87-107"><a href="#cb87-107" aria-hidden="true" tabindex="-1"></a>the particular observation in the series.</span>
<span id="cb87-108"><a href="#cb87-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-109"><a href="#cb87-109" aria-hidden="true" tabindex="-1"></a>The next column of values stores the values of the series. Here the values are</span>
<span id="cb87-110"><a href="#cb87-110" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">decimal degrees</span><span class="co">](https://xkcd.com/2170/)</span> of longitude for the capital cities.</span>
<span id="cb87-111"><a href="#cb87-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-112"><a href="#cb87-112" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Types</span></span>
<span id="cb87-113"><a href="#cb87-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-114"><a href="#cb87-114" aria-hidden="true" tabindex="-1"></a>The <span class="in">`info`</span> method of the DataFrame will summarize information about our DataFrame</span>
<span id="cb87-115"><a href="#cb87-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-118"><a href="#cb87-118" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-119"><a href="#cb87-119" aria-hidden="true" tabindex="-1"></a>cities_df.info()</span>
<span id="cb87-120"><a href="#cb87-120" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-121"><a href="#cb87-121" aria-hidden="true" tabindex="-1"></a>We have four columns, the first two of which are of type <span class="in">`object`</span> and the last</span>
<span id="cb87-122"><a href="#cb87-122" aria-hidden="true" tabindex="-1"></a>two are of type <span class="in">`float64`</span>.</span>
<span id="cb87-123"><a href="#cb87-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-124"><a href="#cb87-124" aria-hidden="true" tabindex="-1"></a>The names of our variables in the DataFrame are stored in the <span class="in">`columns`</span> attribute:</span>
<span id="cb87-127"><a href="#cb87-127" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-128"><a href="#cb87-128" aria-hidden="true" tabindex="-1"></a>cities_df.columns</span>
<span id="cb87-129"><a href="#cb87-129" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-130"><a href="#cb87-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-131"><a href="#cb87-131" aria-hidden="true" tabindex="-1"></a>We can use the column name to access the particular series:</span>
<span id="cb87-132"><a href="#cb87-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-135"><a href="#cb87-135" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-136"><a href="#cb87-136" aria-hidden="true" tabindex="-1"></a>cities_df.longitude</span>
<span id="cb87-137"><a href="#cb87-137" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-138"><a href="#cb87-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-141"><a href="#cb87-141" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-142"><a href="#cb87-142" aria-hidden="true" tabindex="-1"></a>cities_df.name</span>
<span id="cb87-143"><a href="#cb87-143" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-144"><a href="#cb87-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-145"><a href="#cb87-145" aria-hidden="true" tabindex="-1"></a>As each series is an object, it too comes with attributes and methods:</span>
<span id="cb87-146"><a href="#cb87-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-149"><a href="#cb87-149" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-150"><a href="#cb87-150" aria-hidden="true" tabindex="-1"></a>cities_df.longitude.<span class="bu">max</span>()</span>
<span id="cb87-151"><a href="#cb87-151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-152"><a href="#cb87-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-155"><a href="#cb87-155" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-156"><a href="#cb87-156" aria-hidden="true" tabindex="-1"></a>cities_df.name.<span class="bu">max</span>()</span>
<span id="cb87-157"><a href="#cb87-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-158"><a href="#cb87-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-161"><a href="#cb87-161" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-162"><a href="#cb87-162" aria-hidden="true" tabindex="-1"></a>cities_df.longitude.mean()</span>
<span id="cb87-163"><a href="#cb87-163" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-164"><a href="#cb87-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-167"><a href="#cb87-167" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-168"><a href="#cb87-168" aria-hidden="true" tabindex="-1"></a>cities_df.name.<span class="bu">min</span>()</span>
<span id="cb87-169"><a href="#cb87-169" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-170"><a href="#cb87-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-171"><a href="#cb87-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-174"><a href="#cb87-174" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-175"><a href="#cb87-175" aria-hidden="true" tabindex="-1"></a>cities_df.longitude.describe()</span>
<span id="cb87-176"><a href="#cb87-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-177"><a href="#cb87-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-180"><a href="#cb87-180" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-181"><a href="#cb87-181" aria-hidden="true" tabindex="-1"></a>cities_df.name.describe()</span>
<span id="cb87-182"><a href="#cb87-182" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-183"><a href="#cb87-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-184"><a href="#cb87-184" aria-hidden="true" tabindex="-1"></a>Note how the same method behaves for series of different types.</span>
<span id="cb87-185"><a href="#cb87-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-186"><a href="#cb87-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-187"><a href="#cb87-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-188"><a href="#cb87-188" aria-hidden="true" tabindex="-1"></a><span class="fu">## Creating new series</span></span>
<span id="cb87-189"><a href="#cb87-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-190"><a href="#cb87-190" aria-hidden="true" tabindex="-1"></a>A common workflow in data analysis is to create, or derive, new variables based</span>
<span id="cb87-191"><a href="#cb87-191" aria-hidden="true" tabindex="-1"></a>upon existing variables. For example, let's define a variable that will denote</span>
<span id="cb87-192"><a href="#cb87-192" aria-hidden="true" tabindex="-1"></a>whether a capital city is in the east or west of the country. Here we will use</span>
<span id="cb87-193"><a href="#cb87-193" aria-hidden="true" tabindex="-1"></a>the median longitude as the comparison point: </span>
<span id="cb87-194"><a href="#cb87-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-197"><a href="#cb87-197" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-198"><a href="#cb87-198" aria-hidden="true" tabindex="-1"></a>cities_df.longitude.median()</span>
<span id="cb87-199"><a href="#cb87-199" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-200"><a href="#cb87-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-203"><a href="#cb87-203" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-204"><a href="#cb87-204" aria-hidden="true" tabindex="-1"></a>cities_df.longitude <span class="op">&lt;</span> cities_df.longitude.median()</span>
<span id="cb87-205"><a href="#cb87-205" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-206"><a href="#cb87-206" aria-hidden="true" tabindex="-1"></a>This creates a series that has data type <span class="in">`bool`</span>, meaning True if the city is at</span>
<span id="cb87-207"><a href="#cb87-207" aria-hidden="true" tabindex="-1"></a>a longitude less than that of the median longitude. False if it is east of that</span>
<span id="cb87-208"><a href="#cb87-208" aria-hidden="true" tabindex="-1"></a>value.</span>
<span id="cb87-209"><a href="#cb87-209" aria-hidden="true" tabindex="-1"></a>We can use this information to create a new series on the DataFrame called <span class="in">`east`</span>:</span>
<span id="cb87-210"><a href="#cb87-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-213"><a href="#cb87-213" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-214"><a href="#cb87-214" aria-hidden="true" tabindex="-1"></a>cities_df[<span class="st">'east'</span>] <span class="op">=</span> cities_df.longitude <span class="op">&gt;</span> cities_df.longitude.median()</span>
<span id="cb87-215"><a href="#cb87-215" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-216"><a href="#cb87-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-217"><a href="#cb87-217" aria-hidden="true" tabindex="-1"></a>And, we can do this for a second variable <span class="in">`south`</span>:</span>
<span id="cb87-218"><a href="#cb87-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-221"><a href="#cb87-221" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-222"><a href="#cb87-222" aria-hidden="true" tabindex="-1"></a>cities_df[<span class="st">'south'</span>] <span class="op">=</span> cities_df.latitude <span class="op">&lt;</span> cities_df.latitude.median()</span>
<span id="cb87-223"><a href="#cb87-223" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-224"><a href="#cb87-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-225"><a href="#cb87-225" aria-hidden="true" tabindex="-1"></a>Based on those two Boolean variables we can create an additional variable called</span>
<span id="cb87-226"><a href="#cb87-226" aria-hidden="true" tabindex="-1"></a><span class="in">`region`</span> that tells us which of four regions the capital city is located in.</span>
<span id="cb87-227"><a href="#cb87-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-230"><a href="#cb87-230" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-231"><a href="#cb87-231" aria-hidden="true" tabindex="-1"></a>cities_df[<span class="st">'region'</span>] <span class="op">=</span> <span class="dv">4</span> <span class="op">*</span> cities_df.east <span class="op">*</span> cities_df.south <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> cities_df.east) <span class="op">*</span> cities_df.south <span class="op">\</span></span>
<span id="cb87-232"><a href="#cb87-232" aria-hidden="true" tabindex="-1"></a>                      <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> (<span class="dv">1</span><span class="op">-</span>cities_df.east) <span class="op">*</span> (<span class="dv">1</span><span class="op">-</span>cities_df.south) <span class="op">+</span> cities_df.east <span class="op">*</span> (<span class="dv">1</span><span class="op">-</span>cities_df.south)</span>
<span id="cb87-233"><a href="#cb87-233" aria-hidden="true" tabindex="-1"></a>                     </span>
<span id="cb87-234"><a href="#cb87-234" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-235"><a href="#cb87-235" aria-hidden="true" tabindex="-1"></a><span class="in">`region`</span> takes on four values, 1 if the city is in the North East, 2 North West,</span>
<span id="cb87-236"><a href="#cb87-236" aria-hidden="true" tabindex="-1"></a>3 South West, and 4 South East. </span>
<span id="cb87-237"><a href="#cb87-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-240"><a href="#cb87-240" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-241"><a href="#cb87-241" aria-hidden="true" tabindex="-1"></a>cities_df.head(<span class="dv">20</span>)</span>
<span id="cb87-242"><a href="#cb87-242" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-243"><a href="#cb87-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-244"><a href="#cb87-244" aria-hidden="true" tabindex="-1"></a><span class="fu">## Plotting</span></span>
<span id="cb87-245"><a href="#cb87-245" aria-hidden="true" tabindex="-1"></a>Pandas comes with built-in plotting facilities.</span>
<span id="cb87-246"><a href="#cb87-246" aria-hidden="true" tabindex="-1"></a>We can try out the default <span class="in">`plot`</span> method:</span>
<span id="cb87-247"><a href="#cb87-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-250"><a href="#cb87-250" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-251"><a href="#cb87-251" aria-hidden="true" tabindex="-1"></a>cities_df.plot(<span class="st">'longitude'</span>, <span class="st">'latitude'</span>)</span>
<span id="cb87-252"><a href="#cb87-252" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-253"><a href="#cb87-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-254"><a href="#cb87-254" aria-hidden="true" tabindex="-1"></a>This isn't quite what we want as the default is to plot the first series and the</span>
<span id="cb87-255"><a href="#cb87-255" aria-hidden="true" tabindex="-1"></a>second series together with line segments connecting each pair of sequential</span>
<span id="cb87-256"><a href="#cb87-256" aria-hidden="true" tabindex="-1"></a>observations.</span>
<span id="cb87-257"><a href="#cb87-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-258"><a href="#cb87-258" aria-hidden="true" tabindex="-1"></a>But we can try a different method to get what we want:</span>
<span id="cb87-259"><a href="#cb87-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-262"><a href="#cb87-262" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-263"><a href="#cb87-263" aria-hidden="true" tabindex="-1"></a>cities_df.plot.scatter(<span class="st">'longitude'</span>, <span class="st">'latitude'</span>)</span>
<span id="cb87-264"><a href="#cb87-264" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-265"><a href="#cb87-265" aria-hidden="true" tabindex="-1"></a>That's better as now we see the cities represented as points. </span>
<span id="cb87-266"><a href="#cb87-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-267"><a href="#cb87-267" aria-hidden="true" tabindex="-1"></a>::: {.callout-warning}</span>
<span id="cb87-268"><a href="#cb87-268" aria-hidden="true" tabindex="-1"></a>We are treating <span class="in">`longitude`</span> and <span class="in">`latitude`</span> as Cartesian coordinates in the</span>
<span id="cb87-269"><a href="#cb87-269" aria-hidden="true" tabindex="-1"></a>plots. This is technically not correct as they are spherical coordinates. We</span>
<span id="cb87-270"><a href="#cb87-270" aria-hidden="true" tabindex="-1"></a>will correct this later on in the course when we get to spatial data analysis proper.</span>
<span id="cb87-271"><a href="#cb87-271" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb87-272"><a href="#cb87-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-273"><a href="#cb87-273" aria-hidden="true" tabindex="-1"></a>There are a number of powerful visualization packages in Python that allow us to</span>
<span id="cb87-274"><a href="#cb87-274" aria-hidden="true" tabindex="-1"></a>go beyond what is available in Pandas. To see one of them here, we import <span class="in">`seaborn`</span></span>
<span id="cb87-277"><a href="#cb87-277" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-278"><a href="#cb87-278" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sbn</span>
<span id="cb87-279"><a href="#cb87-279" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-280"><a href="#cb87-280" aria-hidden="true" tabindex="-1"></a>and redo our plot:</span>
<span id="cb87-283"><a href="#cb87-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-284"><a href="#cb87-284" aria-hidden="true" tabindex="-1"></a>sbn.scatterplot(cities_df, x<span class="op">=</span><span class="st">'longitude'</span>, y<span class="op">=</span><span class="st">'latitude'</span>)<span class="op">;</span></span>
<span id="cb87-285"><a href="#cb87-285" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-286"><a href="#cb87-286" aria-hidden="true" tabindex="-1"></a>So far, not much difference from what we did with <span class="in">`pandas`</span>. But we can specify a</span>
<span id="cb87-287"><a href="#cb87-287" aria-hidden="true" tabindex="-1"></a><span class="in">`hue`</span> variable to distinguish what region the cities are in:</span>
<span id="cb87-290"><a href="#cb87-290" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-291"><a href="#cb87-291" aria-hidden="true" tabindex="-1"></a>sbn.scatterplot(cities_df, x<span class="op">=</span><span class="st">'longitude'</span>, y<span class="op">=</span><span class="st">'latitude'</span>, hue<span class="op">=</span><span class="st">'region'</span>)<span class="op">;</span></span>
<span id="cb87-292"><a href="#cb87-292" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-293"><a href="#cb87-293" aria-hidden="true" tabindex="-1"></a>Great. But the numbers on the legend are not that informative. Let's change them:</span>
<span id="cb87-296"><a href="#cb87-296" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-297"><a href="#cb87-297" aria-hidden="true" tabindex="-1"></a>cities_df.region.<span class="bu">map</span>({<span class="dv">1</span>:<span class="st">'NE'</span>, <span class="dv">2</span>:<span class="st">'NW'</span>, <span class="dv">3</span>:<span class="st">'SW'</span>, <span class="dv">4</span>:<span class="st">'SE'</span>})</span>
<span id="cb87-298"><a href="#cb87-298" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-299"><a href="#cb87-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-302"><a href="#cb87-302" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-303"><a href="#cb87-303" aria-hidden="true" tabindex="-1"></a>cities_df[<span class="st">'region'</span>] <span class="op">=</span> cities_df.region.<span class="bu">map</span>({<span class="dv">1</span>:<span class="st">'NE'</span>, <span class="dv">2</span>:<span class="st">'NW'</span>, <span class="dv">3</span>:<span class="st">'SW'</span>, <span class="dv">4</span>:<span class="st">'SE'</span>})</span>
<span id="cb87-304"><a href="#cb87-304" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-305"><a href="#cb87-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-308"><a href="#cb87-308" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-309"><a href="#cb87-309" aria-hidden="true" tabindex="-1"></a>sbn.scatterplot(cities_df, x<span class="op">=</span><span class="st">'longitude'</span>, y<span class="op">=</span><span class="st">'latitude'</span>, hue<span class="op">=</span><span class="st">'region'</span>)<span class="op">;</span></span>
<span id="cb87-310"><a href="#cb87-310" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-311"><a href="#cb87-311" aria-hidden="true" tabindex="-1"></a>Much better.</span>
<span id="cb87-314"><a href="#cb87-314" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-315"><a href="#cb87-315" aria-hidden="true" tabindex="-1"></a>cities_df.head()</span>
<span id="cb87-316"><a href="#cb87-316" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-317"><a href="#cb87-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-318"><a href="#cb87-318" aria-hidden="true" tabindex="-1"></a><span class="fu">## DataFrame Operations</span></span>
<span id="cb87-319"><a href="#cb87-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-320"><a href="#cb87-320" aria-hidden="true" tabindex="-1"></a>Pandas has a number of powerful methods that allow us to manipulate the</span>
<span id="cb87-321"><a href="#cb87-321" aria-hidden="true" tabindex="-1"></a>DataFrame in interesting ways. Here we look at three:</span>
<span id="cb87-322"><a href="#cb87-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-323"><a href="#cb87-323" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>sorting</span>
<span id="cb87-324"><a href="#cb87-324" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>grouping</span>
<span id="cb87-325"><a href="#cb87-325" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>filtering</span>
<span id="cb87-326"><a href="#cb87-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-327"><a href="#cb87-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-328"><a href="#cb87-328" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sorting</span></span>
<span id="cb87-329"><a href="#cb87-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-330"><a href="#cb87-330" aria-hidden="true" tabindex="-1"></a>We can sort the DataFrame by the values of a given column. For example, to find</span>
<span id="cb87-331"><a href="#cb87-331" aria-hidden="true" tabindex="-1"></a>the southern-most capital city:</span>
<span id="cb87-332"><a href="#cb87-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-335"><a href="#cb87-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-336"><a href="#cb87-336" aria-hidden="true" tabindex="-1"></a>cities_df.sort_values(by<span class="op">=</span><span class="st">'latitude'</span>)</span>
<span id="cb87-337"><a href="#cb87-337" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-338"><a href="#cb87-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-339"><a href="#cb87-339" aria-hidden="true" tabindex="-1"></a>To find the northern-most city:</span>
<span id="cb87-342"><a href="#cb87-342" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-343"><a href="#cb87-343" aria-hidden="true" tabindex="-1"></a>cities_df.sort_values(by<span class="op">=</span><span class="st">'latitude'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb87-344"><a href="#cb87-344" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-345"><a href="#cb87-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-346"><a href="#cb87-346" aria-hidden="true" tabindex="-1"></a>If we don't want to see all the other columns, we can subset the dataframe</span>
<span id="cb87-347"><a href="#cb87-347" aria-hidden="true" tabindex="-1"></a>first:</span>
<span id="cb87-348"><a href="#cb87-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-351"><a href="#cb87-351" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-352"><a href="#cb87-352" aria-hidden="true" tabindex="-1"></a>cities_df[[<span class="st">'name'</span>, <span class="st">'description'</span>, <span class="st">'latitude'</span>]].sort_values(by<span class="op">=</span><span class="st">'latitude'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb87-353"><a href="#cb87-353" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-354"><a href="#cb87-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-355"><a href="#cb87-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-356"><a href="#cb87-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-357"><a href="#cb87-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-358"><a href="#cb87-358" aria-hidden="true" tabindex="-1"></a><span class="fu">### Grouping</span></span>
<span id="cb87-359"><a href="#cb87-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-360"><a href="#cb87-360" aria-hidden="true" tabindex="-1"></a>The <span class="in">`groupby`</span> method of the DataFrame allows us to split the dataframe, apply a</span>
<span id="cb87-361"><a href="#cb87-361" aria-hidden="true" tabindex="-1"></a>function, and combine the results. This allows us to group data in interesting</span>
<span id="cb87-362"><a href="#cb87-362" aria-hidden="true" tabindex="-1"></a>ways.</span>
<span id="cb87-363"><a href="#cb87-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-364"><a href="#cb87-364" aria-hidden="true" tabindex="-1"></a>Suppose we wanted to know how many cities were in the east and west?</span>
<span id="cb87-367"><a href="#cb87-367" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-368"><a href="#cb87-368" aria-hidden="true" tabindex="-1"></a>cities_df.groupby(by<span class="op">=</span><span class="st">'east'</span>).count()</span>
<span id="cb87-369"><a href="#cb87-369" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-370"><a href="#cb87-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-371"><a href="#cb87-371" aria-hidden="true" tabindex="-1"></a>And for south and north:</span>
<span id="cb87-372"><a href="#cb87-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-375"><a href="#cb87-375" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-376"><a href="#cb87-376" aria-hidden="true" tabindex="-1"></a>cities_df.groupby(by<span class="op">=</span><span class="st">'south'</span>).count()</span>
<span id="cb87-377"><a href="#cb87-377" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-378"><a href="#cb87-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-379"><a href="#cb87-379" aria-hidden="true" tabindex="-1"></a>How about by region?</span>
<span id="cb87-380"><a href="#cb87-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-383"><a href="#cb87-383" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-384"><a href="#cb87-384" aria-hidden="true" tabindex="-1"></a>cities_df.groupby(by<span class="op">=</span><span class="st">'region'</span>).count()</span>
<span id="cb87-385"><a href="#cb87-385" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-386"><a href="#cb87-386" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb87-387"><a href="#cb87-387" aria-hidden="true" tabindex="-1"></a>As we will see later in the course, there are different notions of a `spatial</span>
<span id="cb87-388"><a href="#cb87-388" aria-hidden="true" tabindex="-1"></a>median`. This will unravel the mystery of why we have equal numbers of cities in</span>
<span id="cb87-389"><a href="#cb87-389" aria-hidden="true" tabindex="-1"></a>the north and south, and east and west, but not in the four regions.</span>
<span id="cb87-390"><a href="#cb87-390" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb87-391"><a href="#cb87-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-392"><a href="#cb87-392" aria-hidden="true" tabindex="-1"></a>In addition to applying the <span class="in">`count`</span> method on the groubby object, we could use</span>
<span id="cb87-393"><a href="#cb87-393" aria-hidden="true" tabindex="-1"></a>other functions. For example, we may want to know the median coordinate values</span>
<span id="cb87-394"><a href="#cb87-394" aria-hidden="true" tabindex="-1"></a>in each of the four regions:</span>
<span id="cb87-395"><a href="#cb87-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-396"><a href="#cb87-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-399"><a href="#cb87-399" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-400"><a href="#cb87-400" aria-hidden="true" tabindex="-1"></a>cities_df[[<span class="st">'region'</span>, <span class="st">'longitude'</span>, <span class="st">'latitude'</span>]].groupby(by<span class="op">=</span><span class="st">'region'</span>).median()</span>
<span id="cb87-401"><a href="#cb87-401" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-402"><a href="#cb87-402" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-403"><a href="#cb87-403" aria-hidden="true" tabindex="-1"></a><span class="fu">### Filtering</span></span>
<span id="cb87-404"><a href="#cb87-404" aria-hidden="true" tabindex="-1"></a>Filtering allows us to subset the DataFrame based on some conditions. For</span>
<span id="cb87-405"><a href="#cb87-405" aria-hidden="true" tabindex="-1"></a>example, what if we wanted to create a new DataFrame that only contained the</span>
<span id="cb87-406"><a href="#cb87-406" aria-hidden="true" tabindex="-1"></a>southern capital cities:</span>
<span id="cb87-409"><a href="#cb87-409" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-410"><a href="#cb87-410" aria-hidden="true" tabindex="-1"></a>south_df <span class="op">=</span> cities_df[cities_df.south]</span>
<span id="cb87-411"><a href="#cb87-411" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-412"><a href="#cb87-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-415"><a href="#cb87-415" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-416"><a href="#cb87-416" aria-hidden="true" tabindex="-1"></a>south_df.shape</span>
<span id="cb87-417"><a href="#cb87-417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-418"><a href="#cb87-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-421"><a href="#cb87-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-422"><a href="#cb87-422" aria-hidden="true" tabindex="-1"></a>south_df.head()</span>
<span id="cb87-423"><a href="#cb87-423" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-424"><a href="#cb87-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-425"><a href="#cb87-425" aria-hidden="true" tabindex="-1"></a>And to get a DataFrame for the northern cities, we could use a complement filter:</span>
<span id="cb87-426"><a href="#cb87-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-429"><a href="#cb87-429" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-430"><a href="#cb87-430" aria-hidden="true" tabindex="-1"></a>north_df <span class="op">=</span> cities_df[<span class="op">~</span>cities_df.south]</span>
<span id="cb87-431"><a href="#cb87-431" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-432"><a href="#cb87-432" aria-hidden="true" tabindex="-1"></a>The <span class="in">`~`</span> operator can be thought of flipping the boolean condition.</span>
<span id="cb87-433"><a href="#cb87-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-436"><a href="#cb87-436" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-437"><a href="#cb87-437" aria-hidden="true" tabindex="-1"></a>north_df.head()</span>
<span id="cb87-438"><a href="#cb87-438" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-439"><a href="#cb87-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-440"><a href="#cb87-440" aria-hidden="true" tabindex="-1"></a>We could combine these to get the DataFrame for cities in the North East region:</span>
<span id="cb87-441"><a href="#cb87-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-444"><a href="#cb87-444" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-445"><a href="#cb87-445" aria-hidden="true" tabindex="-1"></a>ne_df <span class="op">=</span> cities_df[<span class="op">~</span>cities_df.south <span class="op">&amp;</span> cities_df.east]</span>
<span id="cb87-446"><a href="#cb87-446" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-447"><a href="#cb87-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-450"><a href="#cb87-450" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-451"><a href="#cb87-451" aria-hidden="true" tabindex="-1"></a>ne_df.head()</span>
<span id="cb87-452"><a href="#cb87-452" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-453"><a href="#cb87-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-454"><a href="#cb87-454" aria-hidden="true" tabindex="-1"></a>Like most things we will want to do, there are typically multiple ways to</span>
<span id="cb87-455"><a href="#cb87-455" aria-hidden="true" tabindex="-1"></a>accomplish this in Python. Here we can get a set of regional DataFrames in one shot:</span>
<span id="cb87-456"><a href="#cb87-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-459"><a href="#cb87-459" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-460"><a href="#cb87-460" aria-hidden="true" tabindex="-1"></a>dfs <span class="op">=</span> {r:data <span class="cf">for</span> r, data <span class="kw">in</span> cities_df.groupby(<span class="st">'region'</span>)}</span>
<span id="cb87-461"><a href="#cb87-461" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-462"><a href="#cb87-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-465"><a href="#cb87-465" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-466"><a href="#cb87-466" aria-hidden="true" tabindex="-1"></a>dfs</span>
<span id="cb87-467"><a href="#cb87-467" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-468"><a href="#cb87-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-469"><a href="#cb87-469" aria-hidden="true" tabindex="-1"></a>They are stored in a dictionary, so we could access each one using the region 'key'.</span>
<span id="cb87-472"><a href="#cb87-472" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-473"><a href="#cb87-473" aria-hidden="true" tabindex="-1"></a>dfs[<span class="st">'NE'</span>].head()</span>
<span id="cb87-474"><a href="#cb87-474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-475"><a href="#cb87-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-476"><a href="#cb87-476" aria-hidden="true" tabindex="-1"></a><span class="fu">## Merge</span></span>
<span id="cb87-477"><a href="#cb87-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-478"><a href="#cb87-478" aria-hidden="true" tabindex="-1"></a>A common workflow in spatial analysis is combining different data sets. Often we</span>
<span id="cb87-479"><a href="#cb87-479" aria-hidden="true" tabindex="-1"></a>will have information on the locations or geographical coordinates in one data</span>
<span id="cb87-480"><a href="#cb87-480" aria-hidden="true" tabindex="-1"></a>set, but that data set may not include any substantive attribute information. We</span>
<span id="cb87-481"><a href="#cb87-481" aria-hidden="true" tabindex="-1"></a>may have a second data set that has the attribute information we are interested</span>
<span id="cb87-482"><a href="#cb87-482" aria-hidden="true" tabindex="-1"></a>in, but this second data set lacks geographical coordinates. So we will have</span>
<span id="cb87-483"><a href="#cb87-483" aria-hidden="true" tabindex="-1"></a>cause to <span class="in">`merge`</span> the two data sets</span>
<span id="cb87-484"><a href="#cb87-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-487"><a href="#cb87-487" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-488"><a href="#cb87-488" aria-hidden="true" tabindex="-1"></a>population_df <span class="op">=</span> pd.read_csv(<span class="ss">f"</span><span class="sc">{</span>home<span class="sc">}</span><span class="ss">/data/385/studio02/captial_population.csv"</span>)</span>
<span id="cb87-489"><a href="#cb87-489" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-490"><a href="#cb87-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-493"><a href="#cb87-493" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-494"><a href="#cb87-494" aria-hidden="true" tabindex="-1"></a>population_df.head()</span>
<span id="cb87-495"><a href="#cb87-495" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-496"><a href="#cb87-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-499"><a href="#cb87-499" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-500"><a href="#cb87-500" aria-hidden="true" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(cities_df, population_df, left_on<span class="op">=</span><span class="st">'name'</span>, right_on<span class="op">=</span><span class="st">'State'</span>)</span>
<span id="cb87-501"><a href="#cb87-501" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-502"><a href="#cb87-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-505"><a href="#cb87-505" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-506"><a href="#cb87-506" aria-hidden="true" tabindex="-1"></a>merged.head()</span>
<span id="cb87-507"><a href="#cb87-507" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-508"><a href="#cb87-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-511"><a href="#cb87-511" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-512"><a href="#cb87-512" aria-hidden="true" tabindex="-1"></a>merged.shape</span>
<span id="cb87-513"><a href="#cb87-513" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-514"><a href="#cb87-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-517"><a href="#cb87-517" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-518"><a href="#cb87-518" aria-hidden="true" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(cities_df, population_df[[<span class="st">'CityPop'</span>, <span class="st">'rank_in_state'</span>, <span class="st">'area'</span>, <span class="st">'State'</span>]], left_on<span class="op">=</span><span class="st">'name'</span>, right_on<span class="op">=</span><span class="st">'State'</span>)</span>
<span id="cb87-519"><a href="#cb87-519" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-520"><a href="#cb87-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-523"><a href="#cb87-523" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-524"><a href="#cb87-524" aria-hidden="true" tabindex="-1"></a>merged.shape</span>
<span id="cb87-525"><a href="#cb87-525" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-526"><a href="#cb87-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-527"><a href="#cb87-527" aria-hidden="true" tabindex="-1"></a><span class="fu">## Saving Files</span></span>
<span id="cb87-528"><a href="#cb87-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-529"><a href="#cb87-529" aria-hidden="true" tabindex="-1"></a>In addition to reading data files, as we did at the beginning of this session,</span>
<span id="cb87-530"><a href="#cb87-530" aria-hidden="true" tabindex="-1"></a>pandas can also create files to save to disk. It is very useful to separate your</span>
<span id="cb87-531"><a href="#cb87-531" aria-hidden="true" tabindex="-1"></a>more complicated data analysis workflows into stages. Typically, the earlier</span>
<span id="cb87-532"><a href="#cb87-532" aria-hidden="true" tabindex="-1"></a>stages will involve data reading, creation of new variables, and or merging</span>
<span id="cb87-533"><a href="#cb87-533" aria-hidden="true" tabindex="-1"></a>different data sets. Much like we have done here. Subsequent steps would be</span>
<span id="cb87-534"><a href="#cb87-534" aria-hidden="true" tabindex="-1"></a>analyzing the data that we have just constructed.</span>
<span id="cb87-535"><a href="#cb87-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-536"><a href="#cb87-536" aria-hidden="true" tabindex="-1"></a>We do not want to have to repeat the data processing steps each time we need to</span>
<span id="cb87-537"><a href="#cb87-537" aria-hidden="true" tabindex="-1"></a>carry out the analysis. To avoid this, we have our data processing notebooks</span>
<span id="cb87-538"><a href="#cb87-538" aria-hidden="true" tabindex="-1"></a>save the newly created data to external files. This way the analysis notebooks</span>
<span id="cb87-539"><a href="#cb87-539" aria-hidden="true" tabindex="-1"></a>only have to read these newly created files - we do not have to recreate them.</span>
<span id="cb87-540"><a href="#cb87-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-541"><a href="#cb87-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-542"><a href="#cb87-542" aria-hidden="true" tabindex="-1"></a>Let's save our latest DataFrame to a csv so we can use it again later.</span>
<span id="cb87-543"><a href="#cb87-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-546"><a href="#cb87-546" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-547"><a href="#cb87-547" aria-hidden="true" tabindex="-1"></a>merged.to_csv(<span class="st">"merged.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb87-548"><a href="#cb87-548" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-549"><a href="#cb87-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-550"><a href="#cb87-550" aria-hidden="true" tabindex="-1"></a>We can show that the merge above will work irrespective of order.</span>
<span id="cb87-551"><a href="#cb87-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-552"><a href="#cb87-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-555"><a href="#cb87-555" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-556"><a href="#cb87-556" aria-hidden="true" tabindex="-1"></a>merged.sort_values(by<span class="op">=</span><span class="st">'description'</span>)</span>
<span id="cb87-557"><a href="#cb87-557" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-558"><a href="#cb87-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-559"><a href="#cb87-559" aria-hidden="true" tabindex="-1"></a>Let's write this out to a second new file:</span>
<span id="cb87-560"><a href="#cb87-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-563"><a href="#cb87-563" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-564"><a href="#cb87-564" aria-hidden="true" tabindex="-1"></a>merged.sort_values(by<span class="op">=</span><span class="st">'description'</span>).to_csv(<span class="st">'merged1.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb87-565"><a href="#cb87-565" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-566"><a href="#cb87-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-567"><a href="#cb87-567" aria-hidden="true" tabindex="-1"></a>Now read it in and redo a merge to compare to what we did above</span>
<span id="cb87-568"><a href="#cb87-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-571"><a href="#cb87-571" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-572"><a href="#cb87-572" aria-hidden="true" tabindex="-1"></a>pop_df <span class="op">=</span> pd.read_csv(<span class="st">'merged1.csv'</span>)</span>
<span id="cb87-573"><a href="#cb87-573" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-574"><a href="#cb87-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-577"><a href="#cb87-577" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-578"><a href="#cb87-578" aria-hidden="true" tabindex="-1"></a>pop_df.head()</span>
<span id="cb87-579"><a href="#cb87-579" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-580"><a href="#cb87-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-583"><a href="#cb87-583" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-584"><a href="#cb87-584" aria-hidden="true" tabindex="-1"></a>merged1 <span class="op">=</span> pd.merge(cities_df, pop_df[[<span class="st">'CityPop'</span>, <span class="st">'rank_in_state'</span>, <span class="st">'area'</span>, <span class="st">'State'</span>]], left_on<span class="op">=</span><span class="st">'name'</span>, right_on<span class="op">=</span><span class="st">'State'</span>)</span>
<span id="cb87-585"><a href="#cb87-585" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-586"><a href="#cb87-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-589"><a href="#cb87-589" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-590"><a href="#cb87-590" aria-hidden="true" tabindex="-1"></a>merged1.shape</span>
<span id="cb87-591"><a href="#cb87-591" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-592"><a href="#cb87-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-595"><a href="#cb87-595" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-596"><a href="#cb87-596" aria-hidden="true" tabindex="-1"></a>merged1.head()</span>
<span id="cb87-597"><a href="#cb87-597" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb87-598"><a href="#cb87-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-601"><a href="#cb87-601" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb87-602"><a href="#cb87-602" aria-hidden="true" tabindex="-1"></a>merged.head()</span>
<span id="cb87-603"><a href="#cb87-603" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>